<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GDScript Cheatsheet - Godot 4.6</title>
    <link
        href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Inter:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <style>
        :root {
            --bg-primary: #1a1a1a;
            --bg-secondary: #252525;
            --bg-code: #2d2d2d;
            --text-primary: #e8e8e8;
            --text-secondary: #a0a0a0;
            --accent: #4a9eff;
            --accent-dim: #3a7ec5;
            --border: #3a3a3a;
            --keyword: #ff79c6;
            --string: #50fa7b;
            --comment: #6272a4;
            --function: #8be9fd;
            --number: #bd93f9;
            --type: #ffb86c;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            margin: 0;
            padding: 0;
        }

        .container {
            margin-left: 300px;
            width: calc(100% - 300px);
            padding: 20px 40px 60px 40px;
            max-width: none;
        }

        .sections-grid {
            display: grid;
            grid-template-columns: repeat(2, minmax(0, 1fr));
            gap: 30px;
            margin-bottom: 60px;
        }

        header {
            text-align: center;
            padding: 60px 20px 40px;
            margin-bottom: 40px;
            border-bottom: 2px solid var(--border);
        }

        h1 {
            font-size: 3.5em;
            font-weight: 700;
            margin-bottom: 10px;
            display: inline-block;
            color: var(--accent);
            /* Fallback */
            background: linear-gradient(135deg, var(--accent) 0%, var(--keyword) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .subtitle {
            font-size: 1.2em;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .section {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 30px;
            border: 1px solid var(--border);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
            height: fit-content;
        }

        h2 {
            font-size: 2em;
            margin-bottom: 20px;
            color: var(--accent);
            border-bottom: 2px solid var(--accent-dim);
            padding-bottom: 10px;
        }

        h3 {
            font-size: 1.4em;
            margin-top: 30px;
            margin-bottom: 15px;
            color: var(--function);
        }

        .code-block {
            background: var(--bg-code);
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
            border: 1px solid var(--border);
            overflow-x: auto;
            position: relative;
        }

        .code-block::before {
            content: 'gdscript';
            position: absolute;
            top: 8px;
            right: 12px;
            font-size: 0.75em;
            color: var(--text-secondary);
            font-family: 'JetBrains Mono', monospace;
            opacity: 0.5;
        }

        pre {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.95em;
            line-height: 1.6;
            color: var(--text-primary);
            white-space: pre;
            overflow-x: auto;
        }

        code {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9em;
        }

        .inline-code {
            background: var(--bg-code);
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9em;
            color: var(--accent);
        }

        /* Syntax highlighting */
        .keyword {
            color: var(--keyword);
        }

        .string {
            color: var(--string);
        }

        .comment {
            color: var(--comment);
            font-style: italic;
        }

        .function {
            color: var(--function);
        }

        .number {
            color: var(--number);
        }

        .type {
            color: var(--type);
        }

        p {
            margin: 12px 0;
            color: var(--text-secondary);
        }

        ul {
            list-style: none;
            margin: 15px 0;
        }

        li {
            padding: 8px 0 8px 20px;
            position: relative;
            color: var(--text-secondary);
        }

        li::before {
            content: '‚ñπ';
            position: absolute;
            left: 0;
            color: var(--accent);
            font-weight: bold;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .info-box {
            background: var(--bg-code);
            border-left: 4px solid var(--accent);
            padding: 15px;
            border-radius: 6px;
            margin: 15px 0;
        }

        .info-box strong {
            color: var(--accent);
            display: block;
            margin-bottom: 8px;
        }

        .use-case {
            background: linear-gradient(135deg, rgba(74, 158, 255, 0.1) 0%, rgba(255, 121, 198, 0.05) 100%);
            border: 1px solid rgba(74, 158, 255, 0.3);
            border-radius: 8px;
            margin: 20px 0 10px 0;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .use-case-header {
            padding: 15px 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            user-select: none;
            transition: background 0.2s ease;
        }

        .use-case-header:hover {
            background: rgba(74, 158, 255, 0.15);
        }

        .use-case-title {
            font-weight: 600;
            color: var(--accent);
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.05em;
        }

        .use-case-icon {
            font-size: 0.8em;
            transition: transform 0.3s ease;
        }

        .use-case.expanded .use-case-icon {
            transform: rotate(90deg);
        }

        .use-case-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s ease, padding 0.4s ease;
            padding: 0 20px;
        }

        .use-case.expanded .use-case-content {
            max-height: 2000px;
            padding: 0 20px 20px 20px;
        }

        .use-case-content p {
            color: var(--text-primary);
            margin-bottom: 15px;
            line-height: 1.7;
        }

        .use-case-example {
            background: var(--bg-code);
            border-radius: 6px;
            padding: 15px;
            margin-top: 10px;
            border-left: 3px solid var(--accent);
        }

        .use-case-example-title {
            color: var(--function);
            font-weight: 600;
            margin-bottom: 10px;
            font-size: 0.95em;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 2.5em;
            }

            h2 {
                font-size: 1.6em;
            }

            .section {
                padding: 20px;
            }

            .grid {
                grid-template-columns: 1fr;
            }

            .sections-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Smooth scrolling */
        html {
            scroll-behavior: smooth;
        }

        /* Selection styling */
        ::selection {
            background: var(--accent);
            color: var(--bg-primary);
        }

        /* Scrollbar styling */
        ::-webkit-scrollbar {
            width: 12px;
            height: 12px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-secondary);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--border);
            border-radius: 6px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--accent-dim);
        }
    </style>
    <style>
        /* New Features Styling */

        /* Sidebar Navigation */
        .sidebar {
            position: fixed;
            top: 0;
            left: 0;
            width: 300px;
            height: 100vh;
            background: var(--bg-secondary);
            border-right: 1px solid var(--border);
            padding: 20px;
            overflow-y: auto;
            z-index: 100;
        }

        .sidebar-header {
            margin-bottom: 20px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border);
        }

        .sidebar-title {
            font-size: 1.2em;
            font-weight: 700;
            color: var(--accent);
            margin-bottom: 15px;
        }

        /* Search Input */
        .search-container {
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 10px 15px;
            border-radius: 6px;
            border: 1px solid var(--border);
            background: var(--bg-code);
            color: var(--text-primary);
            font-family: inherit;
            font-size: 0.9em;
            transition: border-color 0.2s;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--accent);
        }

        /* TOC Links */
        .toc-list {
            list-style: none inside;
            padding: 0;
            margin: 0;
        }

        .toc-item {
            margin: 0;
            padding: 0;
        }

        .toc-item::before {
            content: none;
        }

        .toc-link {
            display: block;
            padding: 6px 10px;
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 0.9em;
            border-radius: 4px;
            transition: all 0.2s;
            cursor: pointer;
        }

        .toc-link:hover {
            background: var(--bg-code);
            color: var(--text-primary);
        }

        .toc-link.active {
            background: rgba(74, 158, 255, 0.1);
            color: var(--accent);
            font-weight: 500;
        }

        .toc-sublink {
            padding-left: 25px;
            font-size: 0.85em;
            opacity: 0.9;
        }

        .toc-parent {
            font-weight: 700;
            color: var(--text-primary) !important;
            margin-top: 15px;
            font-size: 1em;
            letter-spacing: 0.02em;
        }

        .toc-item:first-child .toc-parent {
            margin-top: 5px;
        }



        /* Copy Button */
        .code-block {
            position: relative;
        }

        .copy-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: var(--bg-secondary);
            border: 1px solid var(--border);
            color: var(--text-secondary);
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.75em;
            cursor: pointer;
            opacity: 0;
            transition: all 0.2s;
            font-family: 'Inter', sans-serif;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .code-block:hover .copy-btn {
            opacity: 1;
        }

        .copy-btn:hover {
            border-color: var(--accent);
            color: var(--accent);
        }

        .copy-btn.copied {
            background: var(--accent);
            color: white;
            border-color: var(--accent);
        }

        /* Responsive */
        @media (max-width: 1100px) {
            .sidebar {
                transform: translateX(-100%);
                transition: transform 0.3s ease;
            }

            .sidebar.open {
                transform: translateX(0);
            }

            .container {
                margin-left: auto;
                padding: 0 20px;
            }

            .mobile-menu-btn {
                display: block;
                position: fixed;
                bottom: 20px;
                right: 20px;
                background: var(--accent);
                color: white;
                width: 50px;
                height: 50px;
                border-radius: 50%;
                border: none;
                box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
                z-index: 200;
                cursor: pointer;
                font-size: 1.5em;
                display: flex;
                align-items: center;
                justify-content: center;
            }
        }

        @media (min-width: 1101px) {
            .mobile-menu-btn {
                display: none;
            }
        }
    </style>
</head>

<body>
    <!-- Mobile Menu Button -->
    <button class="mobile-menu-btn" onclick="toggleSidebar()">‚ò∞</button>

    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="sidebar-title">Contents</div>
            <div class="search-container">
                <input type="text" class="search-input" id="searchInput" placeholder="Search..."
                    oninput="filterContent()">
            </div>
        </div>
        <ul class="toc-list" id="tocList">
            <!-- Dynamically populated -->
        </ul>
    </div>

    <div class="container">
        <header>
            <h1>GDScript Cheatsheet</h1>
            <p class="subtitle">Complete Reference for Godot 4.6 - 3D Game Development</p>
        </header>

        <div class="sections-grid">
            <div class="section">
                <h2>Editor Hotkeys & UIDs (Godot 4.6)</h2>

                <h3>Essential Editor Shortcuts</h3>
                <div class="code-block">
                    <pre><code><span class="comment"># Viewport Navigation (3D)</span>
<span class="keyword">Middle Mouse</span>        - Pan camera
<span class="keyword">Shift + Middle</span>      - Rotate camera
<span class="keyword">Scroll Wheel</span>        - Zoom in/out
<span class="keyword">Right Click + WASD</span>  - Fly mode (FPS-style navigation)

<span class="comment"># Object Manipulation</span>
<span class="keyword">W</span>  - Select mode
<span class="keyword">E</span>  - Move mode
<span class="keyword">R</span>  - Rotate mode
<span class="keyword">S</span>  - Scale mode

<span class="comment"># Modifier Keys for Precision</span>
<span class="keyword">Ctrl + Drag</span>        - Snap to grid
<span class="keyword">Shift + Drag</span>       - Precise movement (slower)
<span class="keyword">Alt + Drag</span>         - Duplicate object while moving
<span class="keyword">Ctrl + Shift</span>       - Snap + Precise combined

<span class="comment"># Quick Actions</span>
<span class="keyword">Ctrl + D</span>           - Duplicate selected nodes
<span class="keyword">Ctrl + Shift + D</span>   - Duplicate with reparent
<span class="keyword">Delete/Backspace</span>   - Delete selected nodes
<span class="keyword">F</span>                  - Focus on selected object
<span class="keyword">Ctrl + A</span>           - Select all
<span class="keyword">Ctrl + Shift + A</span>   - Deselect all</code></pre>
                </div>

                <h3>Script Editor Shortcuts</h3>
                <div class="code-block">
                    <pre><code><span class="comment"># Editing</span>
<span class="keyword">Ctrl + K</span>           - Toggle comment selection
<span class="keyword">Ctrl + Shift + I</span>   - Auto-indent selected lines
<span class="keyword">Alt + Up/Down</span>      - Move line(s) up/down
<span class="keyword">Ctrl + B</span>           - Go to definition
<span class="keyword">F4</span>                 - Search help (API docs)

<span class="comment"># Drag & Drop Workflows</span>
<span class="keyword">Drag Node -> Script</span>          - Get node path (e.g., $Player/Camera)
<span class="keyword">Ctrl + Drag Node -> Script</span>   - Create @onready var code
<span class="keyword">Drag File -> Script</span>          - Get resource path ("res://...")
<span class="keyword">Ctrl + Drag File -> Script</span>   - Get UID path or preload ("uid://...")
<span class="keyword">Drag File -> Inspector</span>       - Assign resource to export var</code></pre>
                </div>

                <h3>Universal IDs (UIDs) - Godot 4.6</h3>
                <div class="info-box">
                    <strong>What are UIDs?</strong>
                    <p>UIDs are unique identifiers for resources that remain stable even if you rename or move files.
                        This prevents broken references in your project.</p>
                </div>

                <div class="code-block">
                    <pre><code><span class="comment"># Loading resources with UID (recommended)</span>
<span class="keyword">@export</span> <span class="keyword">var</span> player_scene: <span class="type">PackedScene</span>  <span class="comment"># Set in Inspector - uses UID automatically</span>
<span class="keyword">@export</span> <span class="keyword">var</span> enemy_mesh: <span class="type">Mesh</span>

<span class="comment"># Traditional path-based loading (still works)</span>
<span class="keyword">var</span> scene = <span class="function">load</span>(<span class="string">"res://scenes/player.tscn"</span>)

<span class="comment"># Loading with UID directly</span>
<span class="keyword">var</span> scene = <span class="function">load</span>(<span class="string">"uid://abc123def456"</span>)

<span class="comment"># Getting UID of a resource</span>
<span class="keyword">var</span> uid = ResourceUID.<span class="function">id_to_text</span>(ResourceUID.<span class="function">get_id_path</span>(<span class="string">"res://player.tscn"</span>))
<span class="function">print</span>(<span class="string">"UID: "</span>, uid)</code></pre>
                </div>

                <div class="use-case">
                    <div class="use-case-header">
                        <div class="use-case-title">
                            <span class="use-case-icon">‚ñ∂</span>
                            üí° Why UIDs Matter
                        </div>
                    </div>
                    <div class="use-case-content">
                        <p>UIDs prevent your game from breaking when you reorganize files. If you move "enemy.tscn" from
                            "scenes/" to "scenes/enemies/", all UID-based references automatically update.</p>
                        <div class="use-case-example">
                            <div class="use-case-example-title">Example: Safe Resource References</div>
                            <div class="code-block">
                                <pre><code><span class="comment"># ‚ùå BAD - Hardcoded paths break when files move</span>
<span class="keyword">const</span> ENEMY = <span class="function">preload</span>(<span class="string">"res://scenes/enemy.tscn"</span>)

<span class="comment"># ‚úÖ GOOD - Use @export, Inspector assigns UID automatically</span>
<span class="keyword">@export</span> <span class="keyword">var</span> enemy_scene: <span class="type">PackedScene</span>

<span class="keyword">func</span> <span class="function">spawn_enemy</span>():
    <span class="keyword">var</span> enemy = enemy_scene.<span class="function">instantiate</span>()
    <span class="function">add_child</span>(enemy)

<span class="comment"># The Inspector stores it as uid://... internally</span>
<span class="comment"># Even if you rename enemy.tscn, the reference stays valid!</span></code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>Variables</h2>

                <h3>Basic Variable Declaration</h3>
                <div class="code-block">
                    <pre><code><span class="keyword">var</span> health = <span class="number">100</span>                    <span class="comment"># Type inferred as int</span>
<span class="keyword">var</span> speed: <span class="type">float</span> = <span class="number">5.0</span>              <span class="comment"># Explicit type annotation</span>
<span class="keyword">var</span> player_name := <span class="string">"Hero"</span>           <span class="comment"># Type inferred from value</span>
<span class="keyword">const</span> MAX_HEALTH = <span class="number">100</span>              <span class="comment"># Constant (cannot be changed)</span></code></pre>
                </div>

                <h3>Data Types</h3>
                <div class="code-block">
                    <pre><code><span class="keyword">var</span> integer: <span class="type">int</span> = <span class="number">42</span>
<span class="keyword">var</span> floating: <span class="type">float</span> = <span class="number">3.14</span>
<span class="keyword">var</span> text: <span class="type">String</span> = <span class="string">"Hello"</span>
<span class="keyword">var</span> flag: <span class="type">bool</span> = <span class="keyword">true</span>
<span class="keyword">var</span> nothing = <span class="keyword">null</span>

<span class="comment"># Godot 3D-specific types</span>
<span class="keyword">var</span> position: <span class="type">Vector3</span> = <span class="function">Vector3</span>(<span class="number">1.0</span>, <span class="number">2.0</span>, <span class="number">3.0</span>)
<span class="keyword">var</span> rotation: <span class="type">Vector3</span> = <span class="function">Vector3</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>)
<span class="keyword">var</span> direction: <span class="type">Vector3</span> = Vector3.<span class="keyword">FORWARD</span>
<span class="keyword">var</span> transform: <span class="type">Transform3D</span> = Transform3D.<span class="keyword">IDENTITY</span>
<span class="keyword">var</span> basis: <span class="type">Basis</span> = Basis.<span class="keyword">IDENTITY</span>
<span class="keyword">var</span> quaternion: <span class="type">Quaternion</span> = Quaternion.<span class="keyword">IDENTITY</span>
<span class="keyword">var</span> color: <span class="type">Color</span> = Color.<span class="keyword">RED</span>
<span class="keyword">var</span> node_ref: <span class="type">Node3D</span> = <span class="keyword">null</span></code></pre>
                </div>

                <h3>Advanced Exports & Inspector Organization</h3>
                <div class="code-block">
                    <pre><code><span class="comment"># Basic Exports</span>
<span class="keyword">@export</span> <span class="keyword">var</span> number: <span class="type">int</span> = <span class="number">5</span>
<span class="keyword">@export</span> <span class="keyword">var</span> text: <span class="type">String</span> = <span class="string">"Hello"</span>

<span class="comment"># Organization (Godot 4+)</span>
<span class="keyword">@export_category</span>(<span class="string">"Player Stats"</span>)  <span class="comment"># Main separator</span>
<span class="keyword">@export_group</span>(<span class="string">"Movement"</span>)         <span class="comment"># Collapsible group</span>
<span class="keyword">@export_range</span>(<span class="number">0</span>, <span class="number">100</span>, <span class="number">0.1</span>) <span class="keyword">var</span> speed: <span class="type">float</span> = <span class="number">10.0</span>
<span class="keyword">@export_enum</span>(<span class="string">"Idle"</span>, <span class="string">"Walk"</span>, <span class="string">"Run"</span>) <span class="keyword">var</span> state: <span class="type">String</span>

<span class="keyword">@export_subgroup</span>(<span class="string">"Jump Settings"</span>)
<span class="keyword">@export</span> <span class="keyword">var</span> jump_height: <span class="type">float</span> = <span class="number">5.0</span>
<span class="keyword">@export</span> <span class="keyword">var</span> air_control: <span class="type">bool</span> = <span class="keyword">true</span>

<span class="comment"># Utilities</span>
<span class="keyword">@export_file</span>(<span class="string">"*.png"</span>) <span class="keyword">var</span> icon_path: <span class="type">String</span>
<span class="keyword">@export_dir</span> <span class="keyword">var</span> save_path: <span class="type">String</span>
<span class="keyword">@export_multiline</span> <span class="keyword">var</span> description: <span class="type">String</span>
<span class="keyword">@export_flags</span>(<span class="string">"Fire"</span>, <span class="string">"Water"</span>, <span class="string">"Earth"</span>) <span class="keyword">var</span> resistances: <span class="type">int</span></code></pre>
                </div>

                <div class="use-case">
                    <div class="use-case-header">
                        <div class="use-case-title">
                            <span class="use-case-icon">‚ñ∂</span>
                            üí° Game Dev Use Case: Player Stats System
                        </div>
                    </div>
                    <div class="use-case-content">
                        <p>Variables are perfect for managing player stats that can be tweaked in the Inspector. Export
                            variables let designers balance the game without touching code.</p>
                        <div class="use-case-example">
                            <div class="use-case-example-title">Example: RPG Character Stats</div>
                            <div class="code-block">
                                <pre><code><span class="keyword">extends</span> <span class="type">CharacterBody3D</span>

<span class="comment"># Health system</span>
<span class="keyword">@export_group</span>(<span class="string">"Health"</span>)
<span class="keyword">@export</span> <span class="keyword">var</span> max_health: <span class="type">int</span> = <span class="number">100</span>
<span class="keyword">var</span> current_health: <span class="type">int</span>

<span class="comment"># Movement system</span>
<span class="keyword">@export_group</span>(<span class="string">"Movement"</span>)
<span class="keyword">@export</span> <span class="keyword">var</span> base_speed: <span class="type">float</span> = <span class="number">5.0</span>
<span class="keyword">@export</span> <span class="keyword">var</span> sprint_multiplier: <span class="type">float</span> = <span class="number">1.5</span>
<span class="keyword">@export</span> <span class="keyword">var</span> jump_velocity: <span class="type">float</span> = <span class="number">4.5</span>

<span class="keyword">func</span> <span class="function">_ready</span>():
    current_health = max_health</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>Functions</h2>

                <h3>Basic Function Syntax</h3>
                <div class="code-block">
                    <pre><code><span class="keyword">func</span> <span class="function">function_name</span>():
    <span class="function">print</span>(<span class="string">"Hello World"</span>)

<span class="keyword">func</span> <span class="function">add</span>(a: <span class="type">int</span>, b: <span class="type">int</span>) -> <span class="type">int</span>:
    <span class="keyword">return</span> a + b

<span class="keyword">func</span> <span class="function">greet</span>(name: <span class="type">String</span> = <span class="string">"Guest"</span>) -> <span class="type">String</span>:
    <span class="keyword">return</span> <span class="string">"Hello, "</span> + name

<span class="comment"># Multiple return values using Array</span>
<span class="keyword">func</span> <span class="function">get_position_and_health</span>() -> <span class="type">Array</span>:
    <span class="keyword">return</span> [<span class="function">Vector2</span>(<span class="number">10</span>, <span class="number">20</span>), <span class="number">100</span>]</code></pre>
                </div>

                <h3>Built-in Lifecycle Functions</h3>
                <div class="code-block">
                    <pre><code><span class="keyword">func</span> <span class="function">_ready</span>():
    <span class="comment"># Called when node enters scene tree</span>
    <span class="function">print</span>(<span class="string">"Node is ready"</span>)

<span class="keyword">func</span> <span class="function">_process</span>(delta: <span class="type">float</span>):
    <span class="comment"># Called every frame</span>
    position.x += speed * delta

<span class="keyword">func</span> <span class="function">_physics_process</span>(delta: <span class="type">float</span>):
    <span class="comment"># Called every physics frame (usually 60 FPS)</span>
    velocity = <span class="function">move_and_slide</span>(velocity)

<span class="keyword">func</span> <span class="function">_input</span>(event: <span class="type">InputEvent</span>):
    <span class="comment"># Called for every input event</span>
    <span class="keyword">if</span> event <span class="keyword">is</span> InputEventKey:
        <span class="function">print</span>(<span class="string">"Key pressed"</span>)</code></pre>
                </div>

                <h3>Lambda Functions (Godot 4+)</h3>
                <div class="code-block">
                    <pre><code><span class="keyword">var</span> add = <span class="keyword">func</span>(a, b): <span class="keyword">return</span> a + b
<span class="function">print</span>(add.<span class="function">call</span>(<span class="number">5</span>, <span class="number">3</span>))  <span class="comment"># Outputs: 8</span>

<span class="comment"># With arrays</span>
<span class="keyword">var</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]
<span class="keyword">var</span> doubled = numbers.<span class="function">map</span>(<span class="keyword">func</span>(n): <span class="keyword">return</span> n * <span class="number">2</span>)</code></pre>
                </div>

                <div class="use-case">
                    <div class="use-case-header">
                        <div class="use-case-title">
                            <span class="use-case-icon">‚ñ∂</span>
                            üí° Game Dev Use Case: Enemy AI Behavior
                        </div>
                    </div>
                    <div class="use-case-content">
                        <p>Functions organize game logic into reusable chunks. Lifecycle functions like _process() and
                            _physics_process() are where most game mechanics happen.</p>
                        <div class="use-case-example">
                            <div class="use-case-example-title">Example: Simple Enemy Chase AI</div>
                            <div class="code-block">
                                <pre><code><span class="keyword">extends</span> <span class="type">CharacterBody3D</span>

<span class="keyword">var</span> player: <span class="type">Node3D</span>
<span class="keyword">var</span> speed: <span class="type">float</span> = <span class="number">3.0</span>
<span class="keyword">var</span> chase_distance: <span class="type">float</span> = <span class="number">15.0</span>

<span class="keyword">func</span> <span class="function">_ready</span>():
    player = <span class="function">get_tree</span>().<span class="function">get_first_node_in_group</span>(<span class="string">"player"</span>)

<span class="keyword">func</span> <span class="function">_physics_process</span>(delta):
    <span class="keyword">if</span> <span class="function">should_chase_player</span>():
        <span class="function">chase_player</span>(delta)
    <span class="keyword">else</span>:
        <span class="function">patrol</span>(delta)

<span class="keyword">func</span> <span class="function">should_chase_player</span>() -> <span class="type">bool</span>:
    <span class="keyword">return</span> player <span class="keyword">and</span> <span class="function">global_position</span>.<span class="function">distance_to</span>(player.global_position) < chase_distance

<span class="keyword">func</span> <span class="function">chase_player</span>(delta: <span class="type">float</span>):
    <span class="keyword">var</span> direction = (player.global_position - global_position).<span class="function">normalized</span>()
    velocity = direction * speed
    <span class="function">look_at</span>(player.global_position, Vector3.UP)
    <span class="function">move_and_slide</span>()</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>Control Flow</h2>

                <h3>If Statements</h3>
                <div class="code-block">
                    <pre><code><span class="keyword">if</span> health > <span class="number">50</span>:
    <span class="function">print</span>(<span class="string">"Healthy"</span>)
<span class="keyword">elif</span> health > <span class="number">0</span>:
    <span class="function">print</span>(<span class="string">"Injured"</span>)
<span class="keyword">else</span>:
    <span class="function">print</span>(<span class="string">"Dead"</span>)

<span class="comment"># Ternary operator</span>
<span class="keyword">var</span> status = <span class="string">"Alive"</span> <span class="keyword">if</span> health > <span class="number">0</span> <span class="keyword">else</span> <span class="string">"Dead"</span></code></pre>
                </div>

                <h3>Match Statement (Switch)</h3>
                <div class="code-block">
                    <pre><code><span class="keyword">match</span> state:
    <span class="string">"idle"</span>:
        <span class="function">play_idle_animation</span>()
    <span class="string">"running"</span>:
        <span class="function">play_run_animation</span>()
    <span class="string">"jumping"</span>:
        <span class="function">play_jump_animation</span>()
    _:  <span class="comment"># Default case</span>
        <span class="function">print</span>(<span class="string">"Unknown state"</span>)</code></pre>
                </div>

                <h3>Loops</h3>
                <div class="code-block">
                    <pre><code><span class="comment"># For loop</span>
<span class="keyword">for</span> i <span class="keyword">in</span> <span class="function">range</span>(<span class="number">10</span>):
    <span class="function">print</span>(i)

<span class="comment"># Iterate over array</span>
<span class="keyword">var</span> items = [<span class="string">"sword"</span>, <span class="string">"shield"</span>, <span class="string">"potion"</span>]
<span class="keyword">for</span> item <span class="keyword">in</span> items:
    <span class="function">print</span>(item)

<span class="comment"># While loop</span>
<span class="keyword">while</span> health > <span class="number">0</span>:
    <span class="function">take_damage</span>(<span class="number">10</span>)
    <span class="keyword">if</span> <span class="function">should_escape</span>():
        <span class="keyword">break</span>
    <span class="keyword">if</span> <span class="function">is_invulnerable</span>():
        <span class="keyword">continue</span></code></pre>
                </div>

                <div class="use-case">
                    <div class="use-case-header">
                        <div class="use-case-title">
                            <span class="use-case-icon">‚ñ∂</span>
                            üí° Game Dev Use Case: State Machine for Character
                        </div>
                    </div>
                    <div class="use-case-content">
                        <p>Match statements are perfect for state machines - a common pattern for controlling character
                            behavior, animations, and game flow.</p>
                        <div class="use-case-example">
                            <div class="use-case-example-title">Example: Player State Machine</div>
                            <div class="code-block">
                                <pre><code><span class="keyword">enum</span> State { IDLE, RUNNING, JUMPING, FALLING, ATTACKING }

<span class="keyword">var</span> current_state = State.IDLE

<span class="keyword">func</span> <span class="function">_physics_process</span>(delta):
    <span class="keyword">match</span> current_state:
        State.IDLE:
            <span class="function">handle_idle_state</span>()
        State.RUNNING:
            <span class="function">handle_running_state</span>()
        State.JUMPING:
            <span class="function">handle_jumping_state</span>(delta)
        State.ATTACKING:
            <span class="function">handle_attacking_state</span>()

<span class="keyword">func</span> <span class="function">handle_idle_state</span>():
    <span class="keyword">if</span> Input.<span class="function">is_action_pressed</span>(<span class="string">"move"</span>):
        current_state = State.RUNNING
    <span class="keyword">elif</span> Input.<span class="function">is_action_just_pressed</span>(<span class="string">"jump"</span>):
        current_state = State.JUMPING</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>Annotations (Godot 4+)</h2>
                <div class="code-block">
                    <pre><code><span class="keyword">@tool</span>                    <span class="comment"># Script runs in editor</span>
<span class="keyword">@icon</span>(<span class="string">"res://icon.png"</span>)  <span class="comment"># Custom icon for node</span>
<span class="keyword">@onready</span> <span class="keyword">var</span> mesh = $MeshInstance3D  <span class="comment"># Initialize when node is ready</span>
<span class="keyword">@export</span> <span class="keyword">var</span> speed: <span class="type">float</span> = <span class="number">5.0</span>
<span class="keyword">@export_range</span>(<span class="number">0</span>, <span class="number">100</span>, <span class="number">1</span>) <span class="keyword">var</span> health: <span class="type">int</span>
<span class="keyword">@export_enum</span>(<span class="string">"Easy"</span>, <span class="string">"Medium"</span>, <span class="string">"Hard"</span>) <span class="keyword">var</span> difficulty: <span class="type">String</span>
<span class="keyword">@warning_ignore</span>(<span class="string">"unused_parameter"</span>)  <span class="comment"># Suppress specific warning</span>
<span class="keyword">@rpc</span>(<span class="string">"any_peer"</span>)         <span class="comment"># Remote procedure call annotation</span></code></pre>
                </div>
            </div>

            <div class="section">
                <h2>Arrays</h2>
                <div class="code-block">
                    <pre><code><span class="comment"># Create arrays</span>
<span class="keyword">var</span> empty_array = []
<span class="keyword">var</span> numbers = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]
<span class="keyword">var</span> mixed = [<span class="number">1</span>, <span class="string">"text"</span>, <span class="keyword">true</span>, <span class="function">Vector3</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>)]
<span class="keyword">var</span> typed_array: <span class="type">Array</span>[<span class="type">int</span>] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]

<span class="comment"># Array operations</span>
numbers.<span class="function">append</span>(<span class="number">6</span>)               <span class="comment"># Add to end</span>
numbers.<span class="function">push_back</span>(<span class="number">7</span>)            <span class="comment"># Same as append</span>
numbers.<span class="function">push_front</span>(<span class="number">0</span>)           <span class="comment"># Add to beginning</span>
numbers.<span class="function">insert</span>(<span class="number">2</span>, <span class="number">99</span>)           <span class="comment"># Insert at index</span>
numbers.<span class="function">pop_back</span>()              <span class="comment"># Remove and return last</span>
numbers.<span class="function">pop_front</span>()             <span class="comment"># Remove and return first</span>
numbers.<span class="function">remove_at</span>(<span class="number">1</span>)            <span class="comment"># Remove at index</span>

<span class="comment"># Access</span>
<span class="keyword">var</span> first = numbers[<span class="number">0</span>]
<span class="keyword">var</span> last = numbers[<span class="number">-1</span>]
<span class="keyword">var</span> size = numbers.<span class="function">size</span>()

<span class="comment"># Array methods</span>
<span class="keyword">var</span> doubled = numbers.<span class="function">map</span>(<span class="keyword">func</span>(n): <span class="keyword">return</span> n * <span class="number">2</span>)
<span class="keyword">var</span> evens = numbers.<span class="function">filter</span>(<span class="keyword">func</span>(n): <span class="keyword">return</span> n % <span class="number">2</span> == <span class="number">0</span>)
<span class="keyword">var</span> sum = numbers.<span class="function">reduce</span>(<span class="keyword">func</span>(acc, n): <span class="keyword">return</span> acc + n, <span class="number">0</span>)</code></pre>
                </div>

                <div class="use-case">
                    <div class="use-case-header">
                        <div class="use-case-title">
                            <span class="use-case-icon">‚ñ∂</span>
                            üí° Game Dev Use Case: Inventory System
                        </div>
                    </div>
                    <div class="use-case-content">
                        <p>Arrays are essential for managing collections of items like inventories, enemy spawns, and
                            wave systems.</p>
                        <div class="use-case-example">
                            <div class="use-case-example-title">Example: Item Inventory</div>
                            <div class="code-block">
                                <pre><code><span class="keyword">var</span> inventory: <span class="type">Array</span>[<span class="type">String</span>] = []
<span class="keyword">const</span> MAX_INVENTORY_SIZE = <span class="number">20</span>

<span class="keyword">func</span> <span class="function">add_item</span>(item_name: <span class="type">String</span>) -> <span class="type">bool</span>:
    <span class="keyword">if</span> inventory.<span class="function">size</span>() >= MAX_INVENTORY_SIZE:
        <span class="function">print</span>(<span class="string">"Inventory full!"</span>)
        <span class="keyword">return</span> <span class="keyword">false</span>
    inventory.<span class="function">append</span>(item_name)
    <span class="keyword">return</span> <span class="keyword">true</span>

<span class="keyword">func</span> <span class="function">remove_item</span>(item_name: <span class="type">String</span>):
    <span class="keyword">var</span> index = inventory.<span class="function">find</span>(item_name)
    <span class="keyword">if</span> index != <span class="number">-1</span>:
        inventory.<span class="function">remove_at</span>(index)

<span class="keyword">func</span> <span class="function">has_item</span>(item_name: <span class="type">String</span>) -> <span class="type">bool</span>:
    <span class="keyword">return</span> inventory.<span class="function">has</span>(item_name)</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>Dictionaries</h2>
                <div class="code-block">
                    <pre><code><span class="comment"># Create dictionaries</span>
<span class="keyword">var</span> empty_dict = {}
<span class="keyword">var</span> player = {
    <span class="string">"name"</span>: <span class="string">"Hero"</span>,
    <span class="string">"health"</span>: <span class="number">100</span>,
    <span class="string">"level"</span>: <span class="number">5</span>
}

<span class="comment"># Access and modify</span>
player[<span class="string">"name"</span>] = <span class="string">"Champion"</span>
player.health = <span class="number">95</span>              <span class="comment"># Dot notation</span>
player[<span class="string">"mana"</span>] = <span class="number">50</span>             <span class="comment"># Add new key</span>

<span class="comment"># Check if key exists</span>
<span class="keyword">if</span> <span class="string">"health"</span> <span class="keyword">in</span> player:
    <span class="function">print</span>(player[<span class="string">"health"</span>])

<span class="comment"># Get with default value</span>
<span class="keyword">var</span> mana = player.<span class="function">get</span>(<span class="string">"mana"</span>, <span class="number">0</span>)

<span class="comment"># Iterate</span>
<span class="keyword">for</span> key <span class="keyword">in</span> player:
    <span class="function">print</span>(key, <span class="string">": "</span>, player[key])</code></pre>
                </div>

                <div class="use-case">
                    <div class="use-case-header">
                        <div class="use-case-title">
                            <span class="use-case-icon">‚ñ∂</span>
                            üí° Game Dev Use Case: Save Game Data
                        </div>
                    </div>
                    <div class="use-case-content">
                        <p>Dictionaries are perfect for save systems, configuration, and structured game data with named
                            fields.</p>
                        <div class="use-case-example">
                            <div class="use-case-example-title">Example: Save/Load System</div>
                            <div class="code-block">
                                <pre><code><span class="keyword">func</span> <span class="function">save_game</span>():
    <span class="keyword">var</span> save_data = {
        <span class="string">"player_position"</span>: player.position,
        <span class="string">"player_rotation"</span>: player.rotation,
        <span class="string">"player_health"</span>: player.health,
        <span class="string">"level"</span>: current_level,
        <span class="string">"inventory"</span>: player.inventory,
        <span class="string">"timestamp"</span>: Time.<span class="function">get_unix_time_from_system</span>()
    }
    <span class="keyword">var</span> file = FileAccess.<span class="function">open</span>(<span class="string">"user://save.dat"</span>, FileAccess.WRITE)
    file.<span class="function">store_var</span>(save_data)
    file.<span class="function">close</span>()

<span class="keyword">func</span> <span class="function">load_game</span>():
    <span class="keyword">var</span> file = FileAccess.<span class="function">open</span>(<span class="string">"user://save.dat"</span>, FileAccess.READ)
    <span class="keyword">var</span> data = file.<span class="function">get_var</span>()
    player.position = data.<span class="function">get</span>(<span class="string">"player_position"</span>, Vector3.ZERO)
    player.health = data.<span class="function">get</span>(<span class="string">"player_health"</span>, <span class="number">100</span>)
    file.<span class="function">close</span>()</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>Classes</h2>

                <h3>Basic Class Definition</h3>
                <div class="code-block">
                    <pre><code><span class="keyword">class_name</span> <span class="type">Player</span> <span class="keyword">extends</span> <span class="type">CharacterBody3D</span>

<span class="keyword">var</span> health: <span class="type">int</span> = <span class="number">100</span>
<span class="keyword">var</span> speed: <span class="type">float</span> = <span class="number">5.0</span>

<span class="keyword">func</span> <span class="function">_ready</span>():
    <span class="function">print</span>(<span class="string">"Player created"</span>)

<span class="keyword">func</span> <span class="function">take_damage</span>(amount: <span class="type">int</span>):
    health -= amount
    <span class="keyword">if</span> health <= <span class="number">0</span>:
        <span class="function">die</span>()

<span class="keyword">func</span> <span class="function">die</span>():
    <span class="function">queue_free</span>()</code></pre>
                </div>

                <h3>Inheritance</h3>
                <div class="code-block">
                    <pre><code><span class="keyword">class_name</span> <span class="type">Boss</span> <span class="keyword">extends</span> <span class="type">Enemy</span>

<span class="keyword">var</span> shield: <span class="type">int</span> = <span class="number">100</span>

<span class="keyword">func</span> <span class="function">take_damage</span>(amount: <span class="type">int</span>):
    <span class="keyword">if</span> shield > <span class="number">0</span>:
        shield -= amount
    <span class="keyword">else</span>:
        <span class="keyword">super</span>.<span class="function">take_damage</span>(amount)  <span class="comment"># Call parent method</span></code></pre>
                </div>

                <h3>Static Methods</h3>
                <div class="code-block">
                    <pre><code><span class="keyword">class_name</span> <span class="type">Utils</span>

<span class="keyword">static var</span> game_version: <span class="type">String</span> = <span class="string">"1.0"</span>

<span class="keyword">static func</span> <span class="function">calculate_distance</span>(a: <span class="type">Vector3</span>, b: <span class="type">Vector3</span>) -> <span class="type">float</span>:
    <span class="keyword">return</span> a.<span class="function">distance_to</span>(b)

<span class="comment"># Usage:</span>
<span class="keyword">var</span> dist = Utils.<span class="function">calculate_distance</span>(pos1, pos2)</code></pre>
                </div>

                <div class="use-case">
                    <div class="use-case-header">
                        <div class="use-case-title">
                            <span class="use-case-icon">‚ñ∂</span>
                            üí° Game Dev Use Case: Enemy Types with Inheritance
                        </div>
                    </div>
                    <div class="use-case-content">
                        <p>Classes and inheritance let you create a base enemy with shared behavior, then specialize it
                            for different enemy types.</p>
                        <div class="use-case-example">
                            <div class="use-case-example-title">Example: Enemy Hierarchy</div>
                            <div class="code-block">
                                <pre><code><span class="comment"># Base enemy class</span>
<span class="keyword">class_name</span> <span class="type">Enemy</span> <span class="keyword">extends</span> <span class="type">CharacterBody3D</span>

<span class="keyword">var</span> health: <span class="type">int</span> = <span class="number">50</span>
<span class="keyword">var</span> speed: <span class="type">float</span> = <span class="number">3.0</span>
<span class="keyword">var</span> damage: <span class="type">int</span> = <span class="number">10</span>

<span class="keyword">func</span> <span class="function">take_damage</span>(amount: <span class="type">int</span>):
    health -= amount
    <span class="keyword">if</span> health <= <span class="number">0</span>:
        <span class="function">die</span>()

<span class="keyword">func</span> <span class="function">die</span>():
    <span class="function">queue_free</span>()

<span class="comment"># Flying enemy - moves in air</span>
<span class="keyword">class_name</span> <span class="type">FlyingEnemy</span> <span class="keyword">extends</span> <span class="type">Enemy</span>

<span class="keyword">func</span> <span class="function">_ready</span>():
    speed = <span class="number">5.0</span>    <span class="comment"># Faster than base</span>
    health = <span class="number">30</span>     <span class="comment"># But weaker</span>

<span class="keyword">func</span> <span class="function">_physics_process</span>(delta):
    <span class="comment"># Can fly - ignore gravity</span>
    velocity.y = <span class="number">0</span></code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>Signals</h2>

                <h3>Declaring Signals</h3>
                <div class="code-block">
                    <pre><code><span class="keyword">signal</span> health_changed(new_health: <span class="type">int</span>)
<span class="keyword">signal</span> died
<span class="keyword">signal</span> item_collected(item_name: <span class="type">String</span>, quantity: <span class="type">int</span>)</code></pre>
                </div>

                <h3>Emitting Signals</h3>
                <div class="code-block">
                    <pre><code><span class="keyword">func</span> <span class="function">take_damage</span>(amount: <span class="type">int</span>):
    health -= amount
    health_changed.<span class="function">emit</span>(health)
    
    <span class="keyword">if</span> health <= <span class="number">0</span>:
        died.<span class="function">emit</span>()</code></pre>
                </div>

                <h3>Connecting Signals</h3>
                <div class="code-block">
                    <pre><code><span class="keyword">func</span> <span class="function">_ready</span>():
    health_changed.<span class="function">connect</span>(_on_health_changed)
    $Enemy.died.<span class="function">connect</span>(_on_enemy_died)

<span class="keyword">func</span> <span class="function">_on_health_changed</span>(new_health: <span class="type">int</span>):
    <span class="function">print</span>(<span class="string">"Health is now: "</span>, new_health)

<span class="keyword">func</span> <span class="function">_on_enemy_died</span>():
    <span class="function">print</span>(<span class="string">"Enemy defeated!"</span>)</code></pre>
                </div>

                <div class="use-case">
                    <div class="use-case-header">
                        <div class="use-case-title">
                            <span class="use-case-icon">‚ñ∂</span>
                            üí° Game Dev Use Case: UI Updates & Event System
                        </div>
                    </div>
                    <div class="use-case-content">
                        <p>Signals create decoupled, event-driven code. Perfect for updating UI, triggering effects, and
                            coordinating between systems without tight coupling.</p>
                        <div class="use-case-example">
                            <div class="use-case-example-title">Example: Player Health UI System</div>
                            <div class="code-block">
                                <pre><code><span class="comment"># Player script</span>
<span class="keyword">signal</span> health_changed(current: <span class="type">int</span>, max: <span class="type">int</span>)
<span class="keyword">signal</span> died

<span class="keyword">var</span> health = <span class="number">100</span>

<span class="keyword">func</span> <span class="function">take_damage</span>(amount: <span class="type">int</span>):
    health -= amount
    health_changed.<span class="function">emit</span>(health, <span class="number">100</span>)
    <span class="keyword">if</span> health <= <span class="number">0</span>:
        died.<span class="function">emit</span>()

<span class="comment"># UI script</span>
<span class="keyword">func</span> <span class="function">_ready</span>():
    player.health_changed.<span class="function">connect</span>(_on_player_health_changed)

<span class="keyword">func</span> <span class="function">_on_player_health_changed</span>(current: <span class="type">int</span>, max: <span class="type">int</span>):
    $HealthBar.value = (<span class="type">float</span>(current) / max) * <span class="number">100</span></code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>Nodes and Scene Tree</h2>

                <h3>Getting Nodes</h3>
                <div class="code-block">
                    <pre><code><span class="comment"># Get child node</span>
<span class="keyword">var</span> sprite = $Sprite2D
<span class="keyword">var</span> sprite2 = <span class="function">get_node</span>(<span class="string">"Sprite2D"</span>)

<span class="comment"># Get nested node</span>
<span class="keyword">var</span> hand = $Body/Arm/Hand

<span class="comment"># Get parent</span>
<span class="keyword">var</span> parent = <span class="function">get_parent</span>()

<span class="comment"># Find nodes</span>
<span class="keyword">var</span> timer = <span class="function">find_child</span>(<span class="string">"Timer"</span>)
<span class="keyword">var</span> all_enemies = <span class="function">get_tree</span>().<span class="function">get_nodes_in_group</span>(<span class="string">"enemies"</span>)</code></pre>
                </div>

                <h3>Node Operations</h3>
                <div class="code-block">
                    <pre><code><span class="comment"># Add node</span>
<span class="keyword">var</span> new_sprite = Sprite2D.<span class="function">new</span>()
<span class="function">add_child</span>(new_sprite)

<span class="comment"># Remove node</span>
$Enemy.<span class="function">queue_free</span>()      <span class="comment"># Removes at end of frame (safe)</span>

<span class="comment"># Reparent</span>
$Weapon.<span class="function">reparent</span>($Player/Hand)</code></pre>
                </div>

                <h3>Groups</h3>
                <div class="code-block">
                    <pre><code><span class="comment"># Add to group</span>
<span class="function">add_to_group</span>(<span class="string">"enemies"</span>)

<span class="comment"># Check if in group</span>
<span class="keyword">if</span> <span class="function">is_in_group</span>(<span class="string">"enemies"</span>):
    <span class="function">print</span>(<span class="string">"This is an enemy"</span>)

<span class="comment"># Get all nodes in group</span>
<span class="keyword">var</span> enemies = <span class="function">get_tree</span>().<span class="function">get_nodes_in_group</span>(<span class="string">"enemies"</span>)
<span class="keyword">for</span> enemy <span class="keyword">in</span> enemies:
    enemy.<span class="function">take_damage</span>(<span class="number">10</span>)</code></pre>
                </div>

                <h3>Scene Management</h3>
                <div class="code-block">
                    <pre><code><span class="comment"># Change scene</span>
<span class="function">get_tree</span>().<span class="function">change_scene_to_file</span>(<span class="string">"res://scenes/main_menu.tscn"</span>)

<span class="comment"># Load and instantiate scene</span>
<span class="keyword">var</span> enemy_scene = <span class="function">load</span>(<span class="string">"res://scenes/enemy.tscn"</span>)
<span class="keyword">var</span> enemy = enemy_scene.<span class="function">instantiate</span>()
<span class="function">add_child</span>(enemy)

<span class="comment"># Reload current scene</span>
<span class="function">get_tree</span>().<span class="function">reload_current_scene</span>()</code></pre>
                </div>

                <div class="use-case">
                    <div class="use-case-header">
                        <div class="use-case-title">
                            <span class="use-case-icon">‚ñ∂</span>
                            üí° Game Dev Use Case: Dynamic Enemy Spawning
                        </div>
                    </div>
                    <div class="use-case-content">
                        <p>Node management is essential for spawning enemies, projectiles, particles, and managing
                            dynamic game objects.</p>
                        <div class="use-case-example">
                            <div class="use-case-example-title">Example: Wave-Based Spawner</div>
                            <div class="code-block">
                                <pre><code><span class="keyword">extends</span> <span class="type">Node3D</span>

<span class="keyword">const</span> ENEMY_SCENE = <span class="function">preload</span>(<span class="string">"res://scenes/enemy.tscn"</span>)
<span class="keyword">var</span> spawn_points: <span class="type">Array</span>[<span class="type">Node3D</span>] = []

<span class="keyword">func</span> <span class="function">_ready</span>():
    spawn_points = <span class="function">get_tree</span>().<span class="function">get_nodes_in_group</span>(<span class="string">"spawn_points"</span>)

<span class="keyword">func</span> <span class="function">spawn_wave</span>(enemy_count: <span class="type">int</span>):
    <span class="keyword">for</span> i <span class="keyword">in</span> enemy_count:
        <span class="keyword">var</span> enemy = ENEMY_SCENE.<span class="function">instantiate</span>()
        <span class="keyword">var</span> spawn_point = spawn_points.<span class="function">pick_random</span>()
        enemy.global_position = spawn_point.global_position
        <span class="function">add_child</span>(enemy)
        enemy.<span class="function">add_to_group</span>(<span class="string">"enemies"</span>)</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>Resources</h2>

                <h3>Creating a Custom Resource</h3>
                <div class="code-block">
                    <pre><code><span class="comment"># item_resource.gd</span>
<span class="keyword">class_name</span> <span class="type">ItemResource</span> <span class="keyword">extends</span> <span class="type">Resource</span>

<span class="keyword">@export</span> <span class="keyword">var</span> item_name: <span class="type">String</span> = <span class="string">""</span>
<span class="keyword">@export</span> <span class="keyword">var</span> icon: <span class="type">Texture2D</span>
<span class="keyword">@export</span> <span class="keyword">var</span> value: <span class="type">int</span> = <span class="number">0</span>
<span class="keyword">@export</span> <span class="keyword">var</span> description: <span class="type">String</span> = <span class="string">""</span>

<span class="keyword">func</span> <span class="function">use</span>():
    <span class="function">print</span>(<span class="string">"Using "</span>, item_name)</code></pre>
                </div>

                <h3>Loading Resources</h3>
                <div class="code-block">
                    <pre><code><span class="comment"># Load resource file</span>
<span class="keyword">var</span> item = <span class="function">load</span>(<span class="string">"res://items/health_potion.tres"</span>) <span class="keyword">as</span> <span class="type">ItemResource</span>

<span class="comment"># Preload (at compile time)</span>
<span class="keyword">const</span> HEALTH_POTION = <span class="function">preload</span>(<span class="string">"res://items/health_potion.tres"</span>)</code></pre>
                </div>

                <div class="use-case">
                    <div class="use-case-header">
                        <div class="use-case-title">
                            <span class="use-case-icon">‚ñ∂</span>
                            üí° Game Dev Use Case: Item/Weapon Database
                        </div>
                    </div>
                    <div class="use-case-content">
                        <p>Resources are perfect for creating data-driven game content. Design items, weapons, enemies,
                            and levels as resources that can be edited in the Inspector.</p>
                        <div class="use-case-example">
                            <div class="use-case-example-title">Example: Weapon Resource System</div>
                            <div class="code-block">
                                <pre><code><span class="keyword">class_name</span> <span class="type">WeaponResource</span> <span class="keyword">extends</span> <span class="type">Resource</span>

<span class="keyword">@export</span> <span class="keyword">var</span> weapon_name: <span class="type">String</span>
<span class="keyword">@export</span> <span class="keyword">var</span> damage: <span class="type">int</span>
<span class="keyword">@export</span> <span class="keyword">var</span> fire_rate: <span class="type">float</span>
<span class="keyword">@export</span> <span class="keyword">var</span> sprite: <span class="type">Texture2D</span>

<span class="comment"># In player script:</span>
<span class="keyword">@export</span> <span class="keyword">var</span> starting_weapon: <span class="type">WeaponResource</span>

<span class="keyword">func</span> <span class="function">equip_weapon</span>(weapon: <span class="type">WeaponResource</span>):
    $Sprite.texture = weapon.sprite
    attack_damage = weapon.damage</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>Input Handling</h2>

                <h3>Input Map (Project Settings)</h3>
                <div class="code-block">
                    <pre><code><span class="keyword">func</span> <span class="function">_process</span>(delta):
    <span class="comment"># Check if action is pressed</span>
    <span class="keyword">if</span> Input.<span class="function">is_action_pressed</span>(<span class="string">"move_right"</span>):
        position.x += speed * delta
    
    <span class="keyword">if</span> Input.<span class="function">is_action_just_pressed</span>(<span class="string">"jump"</span>):
        <span class="function">jump</span>()
    
    <span class="keyword">if</span> Input.<span class="function">is_action_just_released</span>(<span class="string">"shoot"</span>):
        <span class="function">stop_shooting</span>()

<span class="comment"># Get input strength (for analog sticks)</span>
<span class="keyword">var</span> input_vector = Input.<span class="function">get_vector</span>(<span class="string">"move_left"</span>, <span class="string">"move_right"</span>, <span class="string">"move_up"</span>, <span class="string">"move_down"</span>)
velocity = input_vector * speed</code></pre>
                </div>

                <h3>Mouse and Keyboard</h3>
                <div class="code-block">
                    <pre><code><span class="comment"># Mouse position</span>
<span class="keyword">var</span> mouse_pos = <span class="function">get_viewport</span>().<span class="function">get_mouse_position</span>()
<span class="keyword">var</span> global_mouse_pos = <span class="function">get_global_mouse_position</span>()

<span class="comment"># Check specific keys</span>
<span class="keyword">if</span> Input.<span class="function">is_key_pressed</span>(KEY_SPACE):
    <span class="function">print</span>(<span class="string">"Space is held down"</span>)

<span class="comment"># Check mouse buttons</span>
<span class="keyword">if</span> Input.<span class="function">is_mouse_button_pressed</span>(MOUSE_BUTTON_LEFT):
    <span class="function">print</span>(<span class="string">"Left mouse button is down"</span>)</code></pre>
                </div>

                <h3>Input Events (_input vs _unhandled_input)</h3>
                <div class="code-block">
                    <pre><code><span class="keyword">func</span> <span class="function">_input</span>(event):
    <span class="comment"># Captures all input first (even if UI handled it)</span>
    <span class="comment"># Use sparingly!</span>
    <span class="keyword">pass</span>

<span class="keyword">func</span> <span class="function">_unhandled_input</span>(event):
    <span class="comment"># Best for gameplay logic (movement, shooting)</span>
    <span class="comment"># Only called if UI didn't consume the event</span>
    <span class="keyword">if</span> event <span class="keyword">is</span> InputEventMouseMotion:
        <span class="function">rotate_y</span>(-event.relative.x * sensitivity)
        
    <span class="keyword">if</span> event.<span class="function">is_action_pressed</span>(<span class="string">"jump"</span>):
        <span class="function">jump</span>()</code></pre>
                </div>

                <div class="use-case">
                    <div class="use-case-header">
                        <div class="use-case-title">
                            <span class="use-case-icon">‚ñ∂</span>
                            üí° Game Dev Use Case: 8-Direction Movement
                        </div>
                    </div>
                    <div class="use-case-content">
                        <p>Input.get_vector() is perfect for smooth 8-direction movement with controller support and
                            normalized diagonal movement.</p>
                        <div class="use-case-example">
                            <div class="use-case-example-title">Example: 3D FPS Character Movement</div>
                            <div class="code-block">
                                <pre><code><span class="keyword">extends</span> <span class="type">CharacterBody3D</span>

<span class="keyword">@export</span> <span class="keyword">var</span> speed: <span class="type">float</span> = <span class="number">5.0</span>
<span class="keyword">@export</span> <span class="keyword">var</span> jump_velocity: <span class="type">float</span> = <span class="number">4.5</span>

<span class="keyword">var</span> gravity = ProjectSettings.<span class="function">get_setting</span>(<span class="string">"physics/3d/default_gravity"</span>)

<span class="keyword">func</span> <span class="function">_physics_process</span>(delta):
    <span class="comment"># Add gravity</span>
    <span class="keyword">if</span> <span class="keyword">not</span> <span class="function">is_on_floor</span>():
        velocity.y -= gravity * delta
    
    <span class="comment"># Handle jump</span>
    <span class="keyword">if</span> Input.<span class="function">is_action_just_pressed</span>(<span class="string">"jump"</span>) <span class="keyword">and</span> <span class="function">is_on_floor</span>():
        velocity.y = jump_velocity
    
    <span class="comment"># Get input direction (WASD/arrow keys)</span>
    <span class="keyword">var</span> input_dir = Input.<span class="function">get_vector</span>(<span class="string">"left"</span>, <span class="string">"right"</span>, <span class="string">"forward"</span>, <span class="string">"back"</span>)
    <span class="keyword">var</span> direction = (transform.basis * <span class="function">Vector3</span>(input_dir.x, <span class="number">0</span>, input_dir.y)).<span class="function">normalized</span>()
    
    <span class="keyword">if</span> direction:
        velocity.x = direction.x * speed
        velocity.z = direction.z * speed
    <span class="keyword">else</span>:
        velocity.x = <span class="function">move_toward</span>(velocity.x, <span class="number">0</span>, speed)
        velocity.z = <span class="function">move_toward</span>(velocity.z, <span class="number">0</span>, speed)
    
    <span class="function">move_and_slide</span>()</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>Common Patterns</h2>

                <h3>Singleton (Autoload)</h3>
                <div class="code-block">
                    <pre><code><span class="comment"># Create a script: game_manager.gd</span>
<span class="keyword">extends</span> <span class="type">Node</span>

<span class="keyword">var</span> score: <span class="type">int</span> = <span class="number">0</span>
<span class="keyword">var</span> player_name: <span class="type">String</span> = <span class="string">""</span>

<span class="keyword">func</span> <span class="function">add_score</span>(points: <span class="type">int</span>):
    score += points
    <span class="function">print</span>(<span class="string">"Score: "</span>, score)

<span class="comment"># Add to Project > Project Settings > Autoload</span>
<span class="comment"># Then use anywhere:</span>
GameManager.<span class="function">add_score</span>(<span class="number">10</span>)
<span class="function">print</span>(GameManager.score)</code></pre>
                </div>

                <h3>Timers</h3>
                <div class="code-block">
                    <pre><code><span class="comment"># Using Timer node</span>
<span class="keyword">func</span> <span class="function">_ready</span>():
    $Timer.wait_time = <span class="number">2.0</span>
    $Timer.one_shot = <span class="keyword">true</span>
    $Timer.timeout.<span class="function">connect</span>(_on_timer_timeout)
    $Timer.<span class="function">start</span>()

<span class="comment"># Using await (Godot 4+)</span>
<span class="keyword">func</span> <span class="function">delayed_action</span>():
    <span class="function">print</span>(<span class="string">"Starting..."</span>)
    <span class="keyword">await</span> <span class="function">get_tree</span>().<span class="function">create_timer</span>(<span class="number">2.0</span>).timeout
    <span class="function">print</span>(<span class="string">"2 seconds later"</span>)</code></pre>
                </div>

                <h3>Tweens</h3>
                <div class="code-block">
                    <pre><code><span class="keyword">func</span> <span class="function">fade_out</span>():
    <span class="keyword">var</span> tween = <span class="function">create_tween</span>()
    tween.<span class="function">tween_property</span>($MeshInstance3D, <span class="string">"transparency"</span>, <span class="number">1.0</span>, <span class="number">1.0</span>)
    <span class="keyword">await</span> tween.finished
    <span class="function">queue_free</span>()

<span class="keyword">func</span> <span class="function">move_to_position</span>(target_pos: <span class="type">Vector3</span>):
    <span class="keyword">var</span> tween = <span class="function">create_tween</span>()
    tween.<span class="function">tween_property</span>(<span class="keyword">self</span>, <span class="string">"position"</span>, target_pos, <span class="number">1.0</span>)
    tween.<span class="function">set_trans</span>(Tween.TRANS_ELASTIC)
    tween.<span class="function">set_ease</span>(Tween.EASE_OUT)</code></pre>
                </div>

                <h3>Random Numbers</h3>
                <div class="code-block">
                    <pre><code><span class="comment"># Random integer</span>
<span class="keyword">var</span> random_int = <span class="function">randi</span>() % <span class="number">100</span>  <span class="comment"># 0 to 99</span>
<span class="keyword">var</span> random_range = <span class="function">randi_range</span>(<span class="number">1</span>, <span class="number">6</span>)  <span class="comment"># 1 to 6 (dice roll)</span>

<span class="comment"># Random float</span>
<span class="keyword">var</span> random_float = <span class="function">randf</span>()  <span class="comment"># 0.0 to 1.0</span>
<span class="keyword">var</span> random_float_range = <span class="function">randf_range</span>(<span class="number">0.0</span>, <span class="number">10.0</span>)

<span class="comment"># Random from array</span>
<span class="keyword">var</span> items = [<span class="string">"sword"</span>, <span class="string">"shield"</span>, <span class="string">"potion"</span>]
<span class="keyword">var</span> random_item = items.<span class="function">pick_random</span>()</code></pre>
                </div>

                <div class="use-case">
                    <div class="use-case-header">
                        <div class="use-case-title">
                            <span class="use-case-icon">‚ñ∂</span>
                            üí° Game Dev Use Case: Power-Up Timer & Effects
                        </div>
                    </div>
                    <div class="use-case-content">
                        <p>Timers and tweens are perfect for temporary power-ups, cooldowns, delayed actions, and smooth
                            animations.</p>
                        <div class="use-case-example">
                            <div class="use-case-example-title">Example: Speed Boost Power-Up</div>
                            <div class="code-block">
                                <pre><code><span class="keyword">var</span> normal_speed: <span class="type">float</span> = <span class="number">5.0</span>
<span class="keyword">var</span> boost_speed: <span class="type">float</span> = <span class="number">10.0</span>
<span class="keyword">var</span> is_boosted: <span class="type">bool</span> = <span class="keyword">false</span>

<span class="keyword">func</span> <span class="function">activate_speed_boost</span>():
    <span class="keyword">if</span> is_boosted:
        <span class="keyword">return</span>
    
    is_boosted = <span class="keyword">true</span>
    speed = boost_speed
    
    <span class="comment"># Flash effect with tween on material</span>
    <span class="keyword">var</span> material = $MeshInstance3D.<span class="function">get_surface_override_material</span>(<span class="number">0</span>)
    <span class="keyword">var</span> tween = <span class="function">create_tween</span>()
    tween.<span class="function">tween_property</span>(material, <span class="string">"albedo_color"</span>, Color.YELLOW, <span class="number">0.2</span>)
    
    <span class="comment"># Wait 5 seconds then deactivate</span>
    <span class="keyword">await</span> <span class="function">get_tree</span>().<span class="function">create_timer</span>(<span class="number">5.0</span>).timeout
    <span class="function">deactivate_speed_boost</span>()

<span class="keyword">func</span> <span class="function">deactivate_speed_boost</span>():
    speed = normal_speed
    is_boosted = <span class="keyword">false</span>
    <span class="keyword">var</span> material = $MeshInstance3D.<span class="function">get_surface_override_material</span>(<span class="number">0</span>)
    material.albedo_color = Color.WHITE</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>3D Math</h2>

                <h3>Vector3 Operations</h3>
                <div class="code-block">
                    <pre><code><span class="keyword">var</span> a = <span class="function">Vector3</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)
<span class="keyword">var</span> b = <span class="function">Vector3</span>(<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>)

<span class="comment"># Basic operations</span>
<span class="keyword">var</span> length = a.<span class="function">length</span>()              <span class="comment"># Magnitude</span>
<span class="keyword">var</span> normalized = a.<span class="function">normalized</span>()     <span class="comment"># Unit vector</span>
<span class="keyword">var</span> distance = a.<span class="function">distance_to</span>(b)      <span class="comment"># Distance between points</span>
<span class="keyword">var</span> direction = a.<span class="function">direction_to</span>(b)    <span class="comment"># Normalized direction</span>

<span class="comment"># Dot and cross product</span>
<span class="keyword">var</span> dot = a.<span class="function">dot</span>(b)                   <span class="comment"># -1 to 1, facing check</span>
<span class="keyword">var</span> cross = a.<span class="function">cross</span>(b)               <span class="comment"># Perpendicular vector</span>

<span class="comment"># Interpolation</span>
<span class="keyword">var</span> lerped = a.<span class="function">lerp</span>(b, <span class="number">0.5</span>)          <span class="comment"># Linear interpolation</span>
<span class="keyword">var</span> slerped = a.<span class="function">slerp</span>(b, <span class="number">0.5</span>)        <span class="comment"># Spherical interpolation</span>

<span class="comment"># Angles</span>
<span class="keyword">var</span> angle = a.<span class="function">angle_to</span>(b)            <span class="comment"># Angle in radians</span>
<span class="keyword">var</span> signed = a.<span class="function">signed_angle_to</span>(b, Vector3.UP)</code></pre>
                </div>

                <h3>Quaternion Rotations</h3>
                <div class="code-block">
                    <pre><code><span class="comment"># Create quaternion from euler angles</span>
<span class="keyword">var</span> quat = Quaternion.<span class="function">from_euler</span>(<span class="function">Vector3</span>(<span class="number">0</span>, <span class="function">deg_to_rad</span>(<span class="number">90</span>), <span class="number">0</span>))

<span class="comment"># Rotate around axis</span>
<span class="keyword">var</span> quat2 = Quaternion(Vector3.UP, <span class="function">deg_to_rad</span>(<span class="number">45</span>))

<span class="comment"># Smooth rotation interpolation</span>
<span class="keyword">var</span> current_rot: <span class="type">Quaternion</span> = Quaternion.<span class="keyword">IDENTITY</span>
<span class="keyword">var</span> target_rot: <span class="type">Quaternion</span>
current_rot = current_rot.<span class="function">slerp</span>(target_rot, delta * <span class="number">5.0</span>)

<span class="comment"># Apply to transform</span>
transform.basis = Basis(current_rot)</code></pre>
                </div>

                <h3>Basis (3x3 Rotation Matrix)</h3>
                <div class="code-block">
                    <pre><code><span class="comment"># Get direction vectors from transform</span>
<span class="keyword">var</span> forward = -transform.basis.z  <span class="comment"># Forward is -Z in Godot</span>
<span class="keyword">var</span> right = transform.basis.x
<span class="keyword">var</span> up = transform.basis.y

<span class="comment"># Rotate basis</span>
transform.basis = transform.basis.<span class="function">rotated</span>(Vector3.UP, <span class="function">deg_to_rad</span>(<span class="number">45</span>))

<span class="comment"># Create basis looking at target</span>
<span class="keyword">var</span> look_basis = Basis.<span class="function">looking_at</span>(target_pos - global_position, Vector3.UP)</code></pre>
                </div>

                <div class="use-case">
                    <div class="use-case-header">
                        <div class="use-case-title">
                            <span class="use-case-icon">‚ñ∂</span>
                            üí° Game Dev Use Case: Check if Target is in Front
                        </div>
                    </div>
                    <div class="use-case-content">
                        <p>Use dot product to check if an enemy is facing the player (for stealth games, FOV checks,
                            etc.).</p>
                        <div class="use-case-example">
                            <div class="use-case-example-title">Example: Field of View Check</div>
                            <div class="code-block">
                                <pre><code><span class="keyword">func</span> <span class="function">can_see_target</span>(target: <span class="type">Node3D</span>, fov_degrees: <span class="type">float</span>) -> <span class="type">bool</span>:
    <span class="keyword">var</span> to_target = (target.global_position - global_position).<span class="function">normalized</span>()
    <span class="keyword">var</span> forward = -global_transform.basis.z
    <span class="keyword">var</span> dot = forward.<span class="function">dot</span>(to_target)
    <span class="keyword">var</span> threshold = <span class="function">cos</span>(<span class="function">deg_to_rad</span>(fov_degrees / <span class="number">2.0</span>))
    <span class="keyword">return</span> dot > threshold  <span class="comment"># True if target within FOV cone</span></code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>3D Physics & Collision</h2>

                <h3>Physics Bodies</h3>
                <div class="code-block">
                    <pre><code><span class="comment"># StaticBody3D - Immovable (walls, floors)</span>
<span class="comment"># RigidBody3D - Physics-driven (crates, balls)</span>
<span class="comment"># CharacterBody3D - Player-controlled</span>
<span class="comment"># Area3D - Trigger zones (no collision response)</span>

<span class="keyword">extends</span> <span class="type">RigidBody3D</span>

<span class="keyword">func</span> <span class="function">_ready</span>():
    mass = <span class="number">10.0</span>
    gravity_scale = <span class="number">1.0</span>
    linear_damp = <span class="number">0.1</span>
    angular_damp = <span class="number">0.1</span>

<span class="keyword">func</span> <span class="function">apply_explosion_force</span>(center: <span class="type">Vector3</span>, force: <span class="type">float</span>):
    <span class="keyword">var</span> direction = (global_position - center).<span class="function">normalized</span>()
    <span class="function">apply_central_impulse</span>(direction * force)</code></pre>
                </div>

                <h3>Collision Layers & Masks</h3>
                <div class="code-block">
                    <pre><code><span class="comment"># Layer = What this object IS</span>
<span class="comment"># Mask = What this object DETECTS</span>

<span class="comment"># Layer 1: Player, Layer 2: Enemies, Layer 3: Projectiles</span>
<span class="keyword">func</span> <span class="function">_ready</span>():
    collision_layer = <span class="number">1</span>      <span class="comment"># I am on layer 1</span>
    collision_mask = <span class="number">2</span> | <span class="number">4</span>   <span class="comment"># I detect layers 2 and 3</span>
    
<span class="comment"># Set specific layer bit</span>
<span class="function">set_collision_layer_value</span>(<span class="number">1</span>, <span class="keyword">true</span>)   <span class="comment"># Enable layer 1</span>
<span class="function">set_collision_mask_value</span>(<span class="number">2</span>, <span class="keyword">true</span>)    <span class="comment"># Detect layer 2</span></code></pre>
                </div>

                <h3>Raycasting</h3>
                <div class="code-block">
                    <pre><code><span class="keyword">func</span> <span class="function">shoot_raycast</span>():
    <span class="keyword">var</span> space_state = <span class="function">get_world_3d</span>().direct_space_state
    <span class="keyword">var</span> origin = $Camera3D.global_position
    <span class="keyword">var</span> end = origin - $Camera3D.global_transform.basis.z * <span class="number">100</span>
    
    <span class="keyword">var</span> query = PhysicsRayQueryParameters3D.<span class="function">create</span>(origin, end)
    query.collision_mask = <span class="number">0b0011</span>  <span class="comment"># Layers 1 and 2</span>
    query.exclude = [self]
    
    <span class="keyword">var</span> result = space_state.<span class="function">intersect_ray</span>(query)
    <span class="keyword">if</span> result:
        <span class="function">print</span>(<span class="string">"Hit: "</span>, result.collider.name)
        <span class="function">print</span>(<span class="string">"Position: "</span>, result.position)
        <span class="function">print</span>(<span class="string">"Normal: "</span>, result.normal)</code></pre>
                </div>

                <h3>Area3D Triggers</h3>
                <div class="code-block">
                    <pre><code><span class="keyword">extends</span> <span class="type">Area3D</span>

<span class="keyword">func</span> <span class="function">_ready</span>():
    body_entered.<span class="function">connect</span>(_on_body_entered)
    body_exited.<span class="function">connect</span>(_on_body_exited)

<span class="keyword">func</span> <span class="function">_on_body_entered</span>(body: <span class="type">Node3D</span>):
    <span class="keyword">if</span> body.<span class="function">is_in_group</span>(<span class="string">"player"</span>):
        <span class="function">print</span>(<span class="string">"Player entered zone"</span>)

<span class="keyword">func</span> <span class="function">_on_body_exited</span>(body: <span class="type">Node3D</span>):
    <span class="keyword">if</span> body.<span class="function">is_in_group</span>(<span class="string">"player"</span>):
        <span class="function">print</span>(<span class="string">"Player left zone"</span>)</code></pre>
                </div>

                <div class="use-case">
                    <div class="use-case-header">
                        <div class="use-case-title">
                            <span class="use-case-icon">‚ñ∂</span>
                            üí° Game Dev Use Case: Bullet Hit Detection
                        </div>
                    </div>
                    <div class="use-case-content">
                        <p>Raycasting is perfect for hitscan weapons. Use it to detect what the bullet hits instantly
                            without spawning projectiles.</p>
                        <div class="use-case-example">
                            <div class="use-case-example-title">Example: Hitscan Weapon</div>
                            <div class="code-block">
                                <pre><code><span class="keyword">func</span> <span class="function">fire_weapon</span>():
    <span class="keyword">var</span> space = <span class="function">get_world_3d</span>().direct_space_state
    <span class="keyword">var</span> cam = $Camera3D
    <span class="keyword">var</span> from = cam.global_position
    <span class="keyword">var</span> to = from - cam.global_transform.basis.z * <span class="number">1000</span>
    
    <span class="keyword">var</span> query = PhysicsRayQueryParameters3D.<span class="function">create</span>(from, to)
    query.collision_mask = <span class="number">0b0110</span>  <span class="comment"># Enemies + Environment</span>
    
    <span class="keyword">var</span> hit = space.<span class="function">intersect_ray</span>(query)
    <span class="keyword">if</span> hit:
        <span class="keyword">if</span> hit.collider.<span class="function">has_method</span>(<span class="string">"take_damage"</span>):
            hit.collider.<span class="function">take_damage</span>(<span class="number">25</span>)
        <span class="function">spawn_impact_effect</span>(hit.position, hit.normal)</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>3D Camera Systems</h2>

                <h3>First-Person Camera</h3>
                <div class="code-block">
                    <pre><code><span class="keyword">extends</span> <span class="type">CharacterBody3D</span>

<span class="keyword">@export</span> <span class="keyword">var</span> mouse_sensitivity: <span class="type">float</span> = <span class="number">0.002</span>
<span class="keyword">@onready</span> <span class="keyword">var</span> camera = $Camera3D

<span class="keyword">func</span> <span class="function">_ready</span>():
    Input.<span class="function">set_mouse_mode</span>(Input.MOUSE_MODE_CAPTURED)

<span class="keyword">func</span> <span class="function">_input</span>(event):
    <span class="keyword">if</span> event <span class="keyword">is</span> InputEventMouseMotion:
        <span class="function">rotate_y</span>(-event.relative.x * mouse_sensitivity)
        camera.<span class="function">rotate_x</span>(-event.relative.y * mouse_sensitivity)
        camera.rotation.x = <span class="function">clamp</span>(camera.rotation.x, <span class="function">deg_to_rad</span>(<span class="number">-90</span>), <span class="function">deg_to_rad</span>(<span class="number">90</span>))</code></pre>
                </div>

                <h3>Third-Person Follow Camera</h3>
                <div class="code-block">
                    <pre><code><span class="keyword">extends</span> <span class="type">Camera3D</span>

<span class="keyword">@export</span> <span class="keyword">var</span> target: <span class="type">Node3D</span>
<span class="keyword">@export</span> <span class="keyword">var</span> offset: <span class="type">Vector3</span> = <span class="function">Vector3</span>(<span class="number">0</span>, <span class="number">3</span>, <span class="number">5</span>)
<span class="keyword">@export</span> <span class="keyword">var</span> smooth_speed: <span class="type">float</span> = <span class="number">5.0</span>

<span class="keyword">func</span> <span class="function">_physics_process</span>(delta):
    <span class="keyword">if</span> <span class="keyword">not</span> target:
        <span class="keyword">return</span>
    <span class="keyword">var</span> target_pos = target.global_position + offset
    global_position = global_position.<span class="function">lerp</span>(target_pos, smooth_speed * delta)
    <span class="function">look_at</span>(target.global_position, Vector3.UP)</code></pre>
                </div>

                <h3>Camera Utilities</h3>
                <div class="code-block">
                    <pre><code><span class="comment"># Look at target</span>
camera.<span class="function">look_at</span>(target.global_position, Vector3.UP)

<span class="comment"># Screen point to ray (for mouse picking)</span>
<span class="keyword">var</span> mouse_pos = <span class="function">get_viewport</span>().<span class="function">get_mouse_position</span>()
<span class="keyword">var</span> from = camera.<span class="function">project_ray_origin</span>(mouse_pos)
<span class="keyword">var</span> to = from + camera.<span class="function">project_ray_normal</span>(mouse_pos) * <span class="number">1000</span>

<span class="comment"># Check if point is on screen</span>
<span class="keyword">var</span> screen_pos = camera.<span class="function">unproject_position</span>(world_pos)
<span class="keyword">var</span> is_behind = camera.<span class="function">is_position_behind</span>(world_pos)</code></pre>
                </div>
            </div>

            <div class="section">
                <h2>Materials & Shaders</h2>

                <h3>StandardMaterial3D</h3>
                <div class="code-block">
                    <pre><code><span class="comment"># Create material in code</span>
<span class="keyword">var</span> mat = StandardMaterial3D.<span class="function">new</span>()
mat.albedo_color = Color.RED
mat.metallic = <span class="number">0.8</span>
mat.roughness = <span class="number">0.2</span>

<span class="comment"># Apply texture</span>
mat.albedo_texture = <span class="function">load</span>(<span class="string">"res://textures/brick.png"</span>)

<span class="comment"># Transparency</span>
mat.transparency = BaseMaterial3D.TRANSPARENCY_ALPHA
mat.albedo_color.a = <span class="number">0.5</span>

<span class="comment"># Emission (glow)</span>
mat.emission_enabled = <span class="keyword">true</span>
mat.emission = Color.CYAN
mat.emission_energy_multiplier = <span class="number">2.0</span>

<span class="comment"># Apply to mesh</span>
$MeshInstance3D.material_override = mat</code></pre>
                </div>

                <h3>Modifying Materials at Runtime</h3>
                <div class="code-block">
                    <pre><code><span class="comment"># Get material from mesh</span>
<span class="keyword">var</span> mat = $MeshInstance3D.<span class="function">get_surface_override_material</span>(<span class="number">0</span>)

<span class="comment"># Make unique copy to avoid affecting other instances</span>
mat = mat.<span class="function">duplicate</span>()
$MeshInstance3D.<span class="function">set_surface_override_material</span>(<span class="number">0</span>, mat)

<span class="comment"># Now modify safely</span>
mat.albedo_color = Color.GREEN</code></pre>
                </div>

                <div class="use-case">
                    <div class="use-case-header">
                        <div class="use-case-title">
                            <span class="use-case-icon">‚ñ∂</span>
                            üí° Game Dev Use Case: Damage Flash Effect
                        </div>
                    </div>
                    <div class="use-case-content">
                        <p>Flash the enemy red when taking damage using emission.</p>
                        <div class="use-case-example">
                            <div class="use-case-example-title">Example: Hit Flash</div>
                            <div class="code-block">
                                <pre><code><span class="keyword">func</span> <span class="function">flash_damage</span>():
    <span class="keyword">var</span> mat = $MeshInstance3D.<span class="function">get_surface_override_material</span>(<span class="number">0</span>)
    mat.emission_enabled = <span class="keyword">true</span>
    mat.emission = Color.RED
    mat.emission_energy_multiplier = <span class="number">3.0</span>
    
    <span class="keyword">var</span> tween = <span class="function">create_tween</span>()
    tween.<span class="function">tween_property</span>(mat, <span class="string">"emission_energy_multiplier"</span>, <span class="number">0.0</span>, <span class="number">0.2</span>)
    <span class="keyword">await</span> tween.finished
    mat.emission_enabled = <span class="keyword">false</span></code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>3D Lighting</h2>

                <h3>Light Types</h3>
                <div class="code-block">
                    <pre><code><span class="comment"># DirectionalLight3D - Sun, infinite range</span>
<span class="comment"># OmniLight3D - Point light, emits in all directions</span>
<span class="comment"># SpotLight3D - Cone-shaped light</span>

<span class="comment"># Create dynamic light at runtime</span>
<span class="keyword">var</span> light = OmniLight3D.<span class="function">new</span>()
light.light_color = Color.ORANGE
light.light_energy = <span class="number">2.0</span>
light.omni_range = <span class="number">10.0</span>
light.shadow_enabled = <span class="keyword">true</span>
<span class="function">add_child</span>(light)

<span class="comment"># SpotLight3D for flashlight</span>
<span class="keyword">var</span> flashlight = SpotLight3D.<span class="function">new</span>()
flashlight.spot_range = <span class="number">20.0</span>
flashlight.spot_angle = <span class="number">25.0</span>  <span class="comment"># Cone angle in degrees</span></code></pre>
                </div>

                <h3>WorldEnvironment</h3>
                <div class="code-block">
                    <pre><code><span class="comment"># Access environment settings</span>
<span class="keyword">var</span> env = $WorldEnvironment.environment

<span class="comment"># Ambient light</span>
env.ambient_light_color = Color.WHITE
env.ambient_light_energy = <span class="number">0.3</span>
env.ambient_light_source = Environment.AMBIENT_SOURCE_SKY

<span class="comment"># Fog</span>
env.fog_enabled = <span class="keyword">true</span>
env.fog_light_color = Color(<span class="number">0.5</span>, <span class="number">0.6</span>, <span class="number">0.7</span>)
env.fog_density = <span class="number">0.01</span>

<span class="comment"># Glow/Bloom</span>
env.glow_enabled = <span class="keyword">true</span>
env.glow_intensity = <span class="number">1.0</span>
env.glow_bloom = <span class="number">0.5</span></code></pre>
                </div>

                <div class="use-case">
                    <div class="use-case-header">
                        <div class="use-case-title">
                            <span class="use-case-icon">‚ñ∂</span>
                            üí° Game Dev Use Case: Muzzle Flash
                        </div>
                    </div>
                    <div class="use-case-content">
                        <p>Dynamic lights create impactful weapon effects and explosions.</p>
                        <div class="use-case-example">
                            <div class="use-case-example-title">Example: Weapon Muzzle Flash</div>
                            <div class="code-block">
                                <pre><code><span class="keyword">@onready</span> <span class="keyword">var</span> muzzle_light = $MuzzleLight

<span class="keyword">func</span> <span class="function">fire_weapon</span>():
    muzzle_light.light_energy = <span class="number">3.0</span>
    <span class="keyword">var</span> tween = <span class="function">create_tween</span>()
    tween.<span class="function">tween_property</span>(muzzle_light, <span class="string">"light_energy"</span>, <span class="number">0.0</span>, <span class="number">0.1</span>)</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>3D Animation</h2>

                <h3>AnimationPlayer</h3>
                <div class="code-block">
                    <pre><code><span class="keyword">@onready</span> <span class="keyword">var</span> anim = $AnimationPlayer

<span class="comment"># Play animation</span>
anim.<span class="function">play</span>(<span class="string">"walk"</span>)
anim.<span class="function">play</span>(<span class="string">"attack"</span>, <span class="number">-1</span>, <span class="number">2.0</span>)  <span class="comment"># 2x speed</span>
anim.<span class="function">play_backwards</span>(<span class="string">"door_open"</span>)

<span class="comment"># Queue animation</span>
anim.<span class="function">queue</span>(<span class="string">"idle"</span>)

<span class="comment"># Stop and reset</span>
anim.<span class="function">stop</span>()
anim.<span class="function">seek</span>(<span class="number">0</span>, <span class="keyword">true</span>)  <span class="comment"># Seek to start</span>

<span class="comment"># Check state</span>
<span class="keyword">if</span> anim.<span class="function">is_playing</span>():
    <span class="keyword">var</span> current = anim.current_animation</code></pre>
                </div>

                <h3>AnimationTree (State Machine)</h3>
                <div class="code-block">
                    <pre><code><span class="keyword">@onready</span> <span class="keyword">var</span> anim_tree = $AnimationTree
<span class="keyword">@onready</span> <span class="keyword">var</span> state_machine = anim_tree[<span class="string">"parameters/playback"</span>]

<span class="keyword">func</span> <span class="function">_ready</span>():
    anim_tree.active = <span class="keyword">true</span>

<span class="keyword">func</span> <span class="function">_physics_process</span>(delta):
    <span class="comment"># Transition to different states</span>
    <span class="keyword">if</span> velocity.<span class="function">length</span>() > <span class="number">0.1</span>:
        state_machine.<span class="function">travel</span>(<span class="string">"Run"</span>)
    <span class="keyword">else</span>:
        state_machine.<span class="function">travel</span>(<span class="string">"Idle"</span>)
    
    <span class="comment"># Set blend parameters</span>
    anim_tree[<span class="string">"parameters/blend_position"</span>] = velocity.<span class="function">length</span>() / max_speed</code></pre>
                </div>

                <div class="use-case">
                    <div class="use-case-header">
                        <div class="use-case-title">
                            <span class="use-case-icon">‚ñ∂</span>
                            üí° Game Dev Use Case: Character Animation Blending
                        </div>
                    </div>
                    <div class="use-case-content">
                        <p>Use AnimationTree BlendSpace2D for smooth movement transitions based on velocity.</p>
                        <div class="use-case-example">
                            <div class="use-case-example-title">Example: Directional Movement Blend</div>
                            <div class="code-block">
                                <pre><code><span class="keyword">func</span> <span class="function">update_animation</span>():
    <span class="keyword">var</span> local_vel = global_transform.basis.inverse() * velocity
    <span class="keyword">var</span> blend = <span class="function">Vector2</span>(local_vel.x, -local_vel.z) / max_speed
    anim_tree[<span class="string">"parameters/BlendSpace2D/blend_position"</span>] = blend</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>3D Audio</h2>

                <h3>AudioStreamPlayer3D</h3>
                <div class="code-block">
                    <pre><code><span class="keyword">@onready</span> <span class="keyword">var</span> audio = $AudioStreamPlayer3D

<span class="comment"># Play sound at position</span>
audio.<span class="function">play</span>()
audio.<span class="function">stop</span>()

<span class="comment"># Configure 3D audio</span>
audio.max_distance = <span class="number">50.0</span>
audio.unit_size = <span class="number">10.0</span>
audio.attenuation_model = AudioStreamPlayer3D.ATTENUATION_INVERSE_DISTANCE

<span class="comment"># Create audio at runtime</span>
<span class="keyword">var</span> player = AudioStreamPlayer3D.<span class="function">new</span>()
player.stream = <span class="function">load</span>(<span class="string">"res://audio/explosion.ogg"</span>)
player.bus = <span class="string">"SFX"</span>
<span class="function">add_child</span>(player)
player.<span class="function">play</span>()</code></pre>
                </div>

                <h3>Audio Buses</h3>
                <div class="code-block">
                    <pre><code><span class="comment"># Set volume (in decibels)</span>
AudioServer.<span class="function">set_bus_volume_db</span>(AudioServer.<span class="function">get_bus_index</span>(<span class="string">"Master"</span>), <span class="number">-10.0</span>)
AudioServer.<span class="function">set_bus_volume_db</span>(AudioServer.<span class="function">get_bus_index</span>(<span class="string">"Music"</span>), <span class="number">-5.0</span>)

<span class="comment"># Mute bus</span>
AudioServer.<span class="function">set_bus_mute</span>(AudioServer.<span class="function">get_bus_index</span>(<span class="string">"SFX"</span>), <span class="keyword">true</span>)

<span class="comment"># Convert linear volume to decibels</span>
<span class="keyword">var</span> db = <span class="function">linear_to_db</span>(volume_slider.value)
<span class="keyword">var</span> linear = <span class="function">db_to_linear</span>(db_value)</code></pre>
                </div>

                <div class="use-case">
                    <div class="use-case-header">
                        <div class="use-case-title">
                            <span class="use-case-icon">‚ñ∂</span>
                            üí° Game Dev Use Case: Footstep Sounds
                        </div>
                    </div>
                    <div class="use-case-content">
                        <p>Play randomized positional footstep sounds that others can hear in 3D space.</p>
                        <div class="use-case-example">
                            <div class="use-case-example-title">Example: Random Footsteps</div>
                            <div class="code-block">
                                <pre><code><span class="keyword">var</span> footstep_sounds: <span class="type">Array</span>[<span class="type">AudioStream</span>] = []
<span class="keyword">@onready</span> <span class="keyword">var</span> footstep_player = $FootstepAudio

<span class="keyword">func</span> <span class="function">play_footstep</span>():
    footstep_player.stream = footstep_sounds.<span class="function">pick_random</span>()
    footstep_player.pitch_scale = <span class="function">randf_range</span>(<span class="number">0.9</span>, <span class="number">1.1</span>)
    footstep_player.<span class="function">play</span>()</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>Navigation & Pathfinding</h2>

                <h3>NavigationAgent3D</h3>
                <div class="code-block">
                    <pre><code><span class="keyword">extends</span> <span class="type">CharacterBody3D</span>

<span class="keyword">@onready</span> <span class="keyword">var</span> nav_agent = $NavigationAgent3D
<span class="keyword">var</span> movement_speed: <span class="type">float</span> = <span class="number">4.0</span>

<span class="keyword">func</span> <span class="function">_ready</span>():
    nav_agent.path_desired_distance = <span class="number">0.5</span>
    nav_agent.target_desired_distance = <span class="number">0.5</span>

<span class="keyword">func</span> <span class="function">set_target</span>(target_pos: <span class="type">Vector3</span>):
    nav_agent.target_position = target_pos

<span class="keyword">func</span> <span class="function">_physics_process</span>(delta):
    <span class="keyword">if</span> nav_agent.<span class="function">is_navigation_finished</span>():
        <span class="keyword">return</span>
    
    <span class="keyword">var</span> next_pos = nav_agent.<span class="function">get_next_path_position</span>()
    <span class="keyword">var</span> direction = (next_pos - global_position).<span class="function">normalized</span>()
    velocity = direction * movement_speed
    <span class="function">move_and_slide</span>()</code></pre>
                </div>

                <h3>Navigation Mesh Baking</h3>
                <div class="code-block">
                    <pre><code><span class="comment"># Runtime navmesh baking</span>
<span class="keyword">@onready</span> <span class="keyword">var</span> nav_region = $NavigationRegion3D

<span class="keyword">func</span> <span class="function">rebake_navmesh</span>():
    nav_region.<span class="function">bake_navigation_mesh</span>()

<span class="comment"># Check if point is on navmesh</span>
<span class="keyword">var</span> nav_map = <span class="function">get_world_3d</span>().navigation_map
<span class="keyword">var</span> closest = NavigationServer3D.<span class="function">map_get_closest_point</span>(nav_map, world_pos)</code></pre>
                </div>

                <div class="use-case">
                    <div class="use-case-header">
                        <div class="use-case-title">
                            <span class="use-case-icon">‚ñ∂</span>
                            üí° Game Dev Use Case: Enemy AI Pathfinding
                        </div>
                    </div>
                    <div class="use-case-content">
                        <p>Enemies that navigate around obstacles to chase the player.</p>
                        <div class="use-case-example">
                            <div class="use-case-example-title">Example: Chasing Enemy</div>
                            <div class="code-block">
                                <pre><code><span class="keyword">var</span> player: <span class="type">Node3D</span>

<span class="keyword">func</span> <span class="function">_physics_process</span>(delta):
    <span class="keyword">if</span> player:
        nav_agent.target_position = player.global_position
    
    <span class="keyword">if</span> <span class="keyword">not</span> nav_agent.<span class="function">is_navigation_finished</span>():
        <span class="keyword">var</span> next = nav_agent.<span class="function">get_next_path_position</span>()
        <span class="keyword">var</span> dir = (next - global_position).<span class="function">normalized</span>()
        velocity = dir * speed
        <span class="function">look_at</span>(global_position + dir, Vector3.UP)
        <span class="function">move_and_slide</span>()</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>File I/O</h2>

                <h3>Save and Load Data</h3>
                <div class="code-block">
                    <pre><code><span class="comment"># Write to file</span>
<span class="keyword">func</span> <span class="function">save_game</span>():
    <span class="keyword">var</span> file = FileAccess.<span class="function">open</span>(<span class="string">"user://savegame.dat"</span>, FileAccess.WRITE)
    <span class="keyword">if</span> file:
        file.<span class="function">store_var</span>({<span class="string">"player_name"</span>: <span class="string">"Hero"</span>, <span class="string">"level"</span>: <span class="number">5</span>})
        file.<span class="function">close</span>()

<span class="comment"># Read from file</span>
<span class="keyword">func</span> <span class="function">load_game</span>():
    <span class="keyword">if</span> FileAccess.<span class="function">file_exists</span>(<span class="string">"user://savegame.dat"</span>):
        <span class="keyword">var</span> file = FileAccess.<span class="function">open</span>(<span class="string">"user://savegame.dat"</span>, FileAccess.READ)
        <span class="keyword">if</span> file:
            <span class="keyword">var</span> data = file.<span class="function">get_var</span>()
            file.<span class="function">close</span>()
            <span class="keyword">return</span> data
    <span class="keyword">return</span> <span class="keyword">null</span></code></pre>
                </div>

                <h3>JSON</h3>
                <div class="code-block">
                    <pre><code><span class="keyword">func</span> <span class="function">save_json</span>():
    <span class="keyword">var</span> data = {<span class="string">"name"</span>: <span class="string">"Player"</span>, <span class="string">"score"</span>: <span class="number">100</span>}
    <span class="keyword">var</span> json_string = JSON.<span class="function">stringify</span>(data)
    <span class="keyword">var</span> file = FileAccess.<span class="function">open</span>(<span class="string">"user://save.json"</span>, FileAccess.WRITE)
    file.<span class="function">store_string</span>(json_string)
    file.<span class="function">close</span>()

<span class="keyword">func</span> <span class="function">load_json</span>():
    <span class="keyword">var</span> file = FileAccess.<span class="function">open</span>(<span class="string">"user://save.json"</span>, FileAccess.READ)
    <span class="keyword">var</span> json_string = file.<span class="function">get_as_text</span>()
    file.<span class="function">close</span>()
    <span class="keyword">var</span> json = JSON.<span class="function">new</span>()
    <span class="keyword">var</span> error = json.<span class="function">parse</span>(json_string)
    <span class="keyword">if</span> error == OK:
        <span class="keyword">return</span> json.data
    <span class="keyword">return</span> <span class="keyword">null</span></code></pre>
                </div>
            </div>

            <div class="section">
                <h2>String Manipulation</h2>
                <div class="code-block">
                    <pre><code><span class="keyword">var</span> text = <span class="string">"Hello World"</span>

<span class="comment"># Formatting</span>
<span class="keyword">var</span> formatted = <span class="string">"Player: %s, Score: %d"</span> % [<span class="string">"Alice"</span>, <span class="number">100</span>]
<span class="keyword">var</span> formatted2 = <span class="string">"Health: {0}/{1}"</span>.<span class="function">format</span>([health, max_health])

<span class="comment"># Methods</span>
text.<span class="function">to_upper</span>()          <span class="comment"># "HELLO WORLD"</span>
text.<span class="function">to_lower</span>()          <span class="comment"># "hello world"</span>
text.<span class="function">length</span>()            <span class="comment"># 11</span>
text.<span class="function">substr</span>(<span class="number">0</span>, <span class="number">5</span>)        <span class="comment"># "Hello"</span>
text.<span class="function">split</span>(<span class="string">" "</span>)          <span class="comment"># ["Hello", "World"]</span>
text.<span class="function">replace</span>(<span class="string">"World"</span>, <span class="string">"Godot"</span>)  <span class="comment"># "Hello Godot"</span>
text.<span class="function">begins_with</span>(<span class="string">"Hello"</span>)       <span class="comment"># true</span>
text.<span class="function">contains</span>(<span class="string">"llo"</span>)            <span class="comment"># true</span></code></pre>
                </div>
            </div>

            <div class="section">
                <h2>Useful Built-in Functions</h2>
                <div class="code-block">
                    <pre><code><span class="comment"># Math</span>
<span class="function">abs</span>(<span class="number">-5</span>)                  <span class="comment"># 5</span>
<span class="function">clamp</span>(value, <span class="number">0</span>, <span class="number">100</span>)     <span class="comment"># Limit value between 0 and 100</span>
<span class="function">lerp</span>(<span class="number">0</span>, <span class="number">10</span>, <span class="number">0.5</span>)         <span class="comment"># Linear interpolation: 5</span>
<span class="function">move_toward</span>(current, target, delta)  <span class="comment"># Move towards target</span>
<span class="function">min</span>(<span class="number">5</span>, <span class="number">10</span>)               <span class="comment"># 5</span>
<span class="function">max</span>(<span class="number">5</span>, <span class="number">10</span>)               <span class="comment"># 10</span>
<span class="function">sign</span>(<span class="number">-5</span>)                 <span class="comment"># -1 (returns -1, 0, or 1)</span>
<span class="function">pow</span>(<span class="number">2</span>, <span class="number">3</span>)                <span class="comment"># 8</span>
<span class="function">sqrt</span>(<span class="number">16</span>)                <span class="comment"># 4</span>
<span class="function">floor</span>(<span class="number">3.7</span>)              <span class="comment"># 3</span>
<span class="function">ceil</span>(<span class="number">3.2</span>)               <span class="comment"># 4</span>
<span class="function">round</span>(<span class="number">3.5</span>)              <span class="comment"># 4</span>

<span class="comment"># Debugging</span>
<span class="function">print_rich</span>(<span class="string">"[color=red]Error![/color]"</span>)
<span class="function">push_error</span>(<span class="string">"Critical failure"</span>)
<span class="function">push_warning</span>(<span class="string">"Missing texture"</span>)
<span class="function">assert</span>(health > <span class="number">0</span>, <span class="string">"Player is dead!"</span>)
<span class="function">print_stack</span>()</code></pre>
                </div>
            </div>

            <div class="section">
                <h2>Quick Reference</h2>

                <div class="info-box">
                    <strong>Common Node Methods</strong>
                    <ul>
                        <li><span class="inline-code">_ready()</span> - Called when node enters tree</li>
                        <li><span class="inline-code">_process(delta)</span> - Called every frame</li>
                        <li><span class="inline-code">_physics_process(delta)</span> - Called every physics frame</li>
                        <li><span class="inline-code">queue_free()</span> - Remove node safely</li>
                        <li><span class="inline-code">get_node("Path")</span> or <span class="inline-code">$Path</span>
                            - Get child node</li>
                    </ul>
                </div>

                <div class="info-box">
                    <strong>Common Constants</strong>
                    <ul>
                        <li><span class="inline-code">PI</span> - 3.14159...</li>
                        <li><span class="inline-code">INF</span> - Infinity</li>
                        <li><span class="inline-code">Vector3.ZERO</span> - Vector3(0, 0, 0)</li>
                        <li><span class="inline-code">Vector3.ONE</span> - Vector3(1, 1, 1)</li>
                        <li><span class="inline-code">Vector3.UP</span> - Vector3(0, 1, 0)</li>
                        <li><span class="inline-code">Vector3.DOWN</span> - Vector3(0, -1, 0)</li>
                        <li><span class="inline-code">Vector3.LEFT</span> - Vector3(-1, 0, 0)</li>
                        <li><span class="inline-code">Vector3.RIGHT</span> - Vector3(1, 0, 0)</li>
                        <li><span class="inline-code">Vector3.FORWARD</span> - Vector3(0, 0, -1)</li>
                        <li><span class="inline-code">Vector3.BACK</span> - Vector3(0, 0, 1)</li>
                    </ul>
                </div>
            </div>

        </div>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            console.log('Cheatsheet Script Loaded');

            // --- Toggle Use Case Sections ---
            const useCaseHeaders = document.querySelectorAll('.use-case-header');
            useCaseHeaders.forEach(header => {
                header.addEventListener('click', function () {
                    const useCase = this.parentElement;
                    useCase.classList.toggle('expanded');
                });
            });

            // --- Generate Table of Contents ---
            const tocList = document.getElementById('tocList');
            const sections = document.querySelectorAll('.section');

            if (tocList) {
                sections.forEach(section => {
                    const h2 = section.querySelector('h2');
                    if (!h2) return;

                    // Create ID for linking
                    const sectionId = h2.textContent.toLowerCase().replace(/[^a-z0-9]+/g, '-');
                    h2.id = sectionId;

                    // Create H2 link
                    const h2Item = document.createElement('li');
                    h2Item.className = 'toc-item';
                    const h2Link = document.createElement('a');
                    h2Link.href = '#' + sectionId;
                    h2Link.className = 'toc-link toc-parent';
                    h2Link.textContent = h2.textContent;

                    // Click handler for smooth scroll offset
                    h2Link.onclick = (e) => {
                        e.preventDefault();
                        document.getElementById(sectionId).scrollIntoView({ behavior: 'smooth', block: 'start' });
                        // Close mobile sidebar if open
                        const sidebar = document.getElementById('sidebar');
                        if (sidebar) sidebar.classList.remove('open');
                        history.pushState(null, null, '#' + sectionId);
                    };

                    h2Item.appendChild(h2Link);
                    tocList.appendChild(h2Item);

                    // Find Subsections (H3)
                    const subsections = section.querySelectorAll('h3');
                    subsections.forEach(h3 => {
                        const subId = sectionId + '-' + h3.textContent.toLowerCase().replace(/[^a-z0-9]+/g, '-');
                        h3.id = subId;

                        const subItem = document.createElement('li');
                        subItem.className = 'toc-item';

                        const subLink = document.createElement('a');
                        subLink.href = '#' + subId;
                        subLink.className = 'toc-link toc-sublink';
                        subLink.textContent = h3.textContent;

                        subLink.onclick = (e) => {
                            e.preventDefault();
                            document.getElementById(subId).scrollIntoView({ behavior: 'smooth', block: 'center' });
                            const sidebar = document.getElementById('sidebar');
                            if (sidebar) sidebar.classList.remove('open');
                            history.pushState(null, null, '#' + subId);
                        };

                        subItem.appendChild(subLink);
                        tocList.appendChild(subItem);
                    });
                });
            } else {
                console.warn('TOC List element not found');
            }

            addCopyButtons();
        });

        // Search Functionality
        function filterContent() {
            const searchInput = document.getElementById('searchInput');
            if (!searchInput) return;

            const query = searchInput.value.toLowerCase();
            const sections = document.querySelectorAll('.section');

            sections.forEach(section => {
                const text = section.innerText.toLowerCase();
                if (text.includes(query)) {
                    section.style.display = 'block';
                } else {
                    section.style.display = 'none';
                }
            });

            // If empty search, show all
            if (query === '') {
                sections.forEach(s => s.style.display = 'block');
            }
        }

        // Copy Functionality
        function addCopyButtons() {
            const codeBlocks = document.querySelectorAll('.code-block');

            codeBlocks.forEach(block => {
                if (block.querySelector('.copy-btn')) return;

                const btn = document.createElement('button');
                btn.className = 'copy-btn';
                btn.innerHTML = 'üìã Copy';

                btn.onclick = async () => {
                    const codeElement = block.querySelector('code');
                    if (!codeElement) return;

                    const code = codeElement.innerText;
                    try {
                        await navigator.clipboard.writeText(code);
                        const originalText = btn.innerHTML;
                        btn.innerHTML = '‚úÖ Copied!';
                        btn.classList.add('copied');

                        setTimeout(() => {
                            btn.innerHTML = originalText;
                            btn.classList.remove('copied');
                        }, 2000);
                    } catch (err) {
                        console.error('Failed to copy!', err);
                        btn.innerHTML = '‚ùå Error';
                    }
                };

                block.appendChild(btn);
            });
        }

        // Mobile Sidebar Toggle
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            if (sidebar) sidebar.classList.toggle('open');
        }

        // Highlight active TOC item on scroll
        window.addEventListener('scroll', () => {
            const sections = document.querySelectorAll('h2, h3');
            let current = '';

            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                if (scrollY >= sectionTop - 150) {
                    current = section.getAttribute('id');
                }
            });

            document.querySelectorAll('.toc-link').forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') && link.getAttribute('href').includes(current) && current !== '') {
                    link.classList.add('active');
                }
            });
        });
    </script>
</body>

</html>
